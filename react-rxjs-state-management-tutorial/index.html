<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta name="robots" content="all,follow">
  <meta name="googlebot" content="index,follow,snippet,archive">
  <meta name="viewport" content="width=device-width, initial-scale=1">



  <title>
    React with RxJS for State Management Tutorial - CPaul
  </title>

  <meta name="author" content="" />
  <meta name="description"
    content="A tutorial on how to use RxJS in React for state management. It shows how to implement a Rx.js higher-order component (hoc) that takes over the observable streams ...">


  <meta name="theme-color" content="#38bb6c" />

  <meta name="generator" content="Hugo 0.41" />
  <link href="https://cdn-images.mailchimp.com/embedcode/horizontal-slim-10_7.css" rel="stylesheet" type="text/css">

  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.5.0/css/font-awesome.min.css">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.2/css/bootstrap.min.css">
  <link href="../css/bootstrap.default.css" rel="stylesheet" id="theme-stylesheet">
  <link href="../css/customizations.css" rel="stylesheet">

  <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
        <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->

  <link rel="shortcut icon" href="../img/favicon/favicon.ico" type="image/x-icon" />
  <link rel="apple-touch-icon" href="../img/favicon/apple-touch-icon.png" />
  <link rel="manifest" href="../img/favicon/manifest.json">
  <link rel="mask-icon" href="../img/favicon/safari-pinned-tab.svg" color="#5bbad5">

  <link rel="alternate" href="../index.xml" type="application/rss+xml" title="CPaul">

  <meta itemprop="name" content="React with RxJS for State Management Tutorial">
  <meta itemprop="description"
    content="A tutorial on how to use RxJS in React for state management. It shows how to implement a Rx.js higher-order component (hoc) that takes over the observable streams ...">
  <meta itemprop="image" content="https://chrispaul.dev/img/posts/react-rxjs-state-management-tutorial/banner_640.jpg">
  <meta itemprop="keywords"
    content="angular,apollo,d3,graphql,growth,javascript,machine-learning,mobx,node,react,reason,redux,tooling,vue,web-development,angular,apollo,d3,graphql,growth,javascript,machine-learning,mobx,node,react,reason,redux,tooling,web-development," />


  <meta itemprop="wordCount" content="2961">

  <meta name="keywords"
    content="react rxjs tutorial, rxjs react js tutorial, react rxjs hoc, react with rxjs, react rxjs example, react rxjs event, react rxjs state, react rxjs observable, react rxjs component">

  <meta property="og:title" content="React with RxJS for State Management Tutorial - CPaul">


  <meta property="og:description"
    content="A tutorial on how to use RxJS in React for state management. It shows how to implement a Rx.js higher-order component (hoc) that takes over the observable streams ..." />


  <meta property="og:type" content="website" />
  <meta property="og:url" content="https://chrispaul.dev/react-rxjs-state-management-tutorial/" />
  <meta property="og:image"
    content="https://chrispaul.dev/img/posts/react-rxjs-state-management-tutorial/banner_640.jpg" />



  <meta name="news_keywords"
    content="react rxjs tutorial,rxjs react js tutorial,react rxjs hoc,react with rxjs,react rxjs example,react rxjs event,react rxjs state,react rxjs observable,react rxjs component" />



  <meta name="twitter:card" content="summary_large_image" />
  <meta name="twitter:image:src"
    content="https://chrispaul.dev/img/posts/react-rxjs-state-management-tutorial/banner_640.jpg" />
  <meta name="twitter:title" content="React with RxJS for State Management Tutorial" />
  <meta name="twitter:description"
    content="A tutorial on how to use RxJS in React for state management. It shows how to implement a Rx.js higher-order component (hoc) that takes over the observable streams ..." />
  <meta name="twitter:site" content="@ChrisPaulDev" />
  



</head>


<body>

  <div id="all">

    <header>

      <div class="navbar-affixed-top" data-spy="affix" data-offset-top="200">

        <div class="navbar navbar-default yamm" role="navigation" id="navbar">

          <div class="container">
            <div class="navbar-header">
              

              <div class="navbar-buttons">
                <button type="button" class="navbar-toggle btn-template-main" data-toggle="collapse"
                  data-target="#navigation">
                  <span class="sr-only">Toggle navigation</span>
                  <i class="fa fa-align-justify"></i>
                </button>
              </div>
            </div>


            <div class="navbar-collapse collapse" id="navigation">
              <ul class="nav navbar-nav navbar-right">

                <li class="dropdown">

                  <a href="../index.html">Blog</a>

                </li>

                <li class="dropdown">

                  <a href="../work-with-me/index.html">Work with me</a>

                </li>

                <li class="dropdown">

                  <a href="../about/index.html">About</a>

                </li>

                <li class="dropdown">

                  <a style="color: #38bb6c" href="https://roadtoreact.com/">Books &amp; Courses</a>

                </li>

              </ul>
            </div>


            <div class="collapse clearfix" id="search">

              <form class="navbar-form" role="search">
                <div class="input-group">
                  <input type="text" class="form-control" placeholder="Search">
                  <span class="input-group-btn">

                    <button type="submit" class="btn btn-template-main"><i class="fa fa-search"></i></button>

                  </span>
                </div>
              </form>

            </div>


          </div>
        </div>


      </div>
    </header>

    

    



    <div class="hidden-xs">


      <section class="bar background-image-fixed-2 no-mb color-white text-center">
        <div class="dark-mask"></div>
        <div class="container">
          <div class="row">
            <div class="col-md-12">
              <h3 class="lead">Never miss an article about web development, JavaScript and self-growth.</h3>
              <h2 class="text-uppercase newsletter">Take Part</h2>
            </div>

            <div class="col-md-12">
              <p class="text-center">
                <div id="mc_embed_signup">
                  <form action="https://www.getrevue.co/profile/rwieruch/add_subscriber" method="post" id="revue-form"
                    name="revue-form" target="_blank">
                    <div id="mc_embed_signup_scroll">
                      <input class="email" placeholder="email address" type="email" name="member[email]"
                        id="member_email">
                      <div>
                        <button type="submit" value="Subscribe" name="member[subscribe]" id="member_submit"
                          class="btn btn-template-transparent-black btn-lg">
                          Subscribe
                        </button>
                      </div>
                    </div>
                  </form>
                </div>

              </p>
            </div>
          </div>
        </div>
      </section>
    </div>

    <div id="content">
      <div class="container">

        <div class="row">

          <article class="col-md-8 col-md-offset-2" id="blog-post" itemprop="blogPosts" itemscope
            itemtype="http://schema.org/BlogPosting">

            <div id="post-content" itemprop="articleBody">

              <header>
                <h1 itemprop="name headline">React with RxJS for State Management Tutorial</h1>
              </header>

              

              <p class="text-muted text-uppercase mb-small text-center">
                <span itemprop="author publisher">

                </span>


                <time datetime="2018-10-22" itemprop="datePublished">
                  October 22, 2018
                </time>


              </p>

              <div>


              </div>

              <div class="post-image-primary">
                <div class="pinterest-pinner-wrapper" itemscope itemtype="http://schema.org/ImageObject">
                  <div class="pinterest-pinner">
                    <a data-pin-do="buttonPin" data-pin-save="true" data-pin-tall="true"
                      href="https://www.pinterest.com/pin/create/button/?url=https%3a%2f%2fchrispaul.dev%2freact-rxjs-state-management-tutorial%2f&amp;media=https://chrispaul.dev/img%2fposts%2freact-rxjs-state-management-tutorial%2fbanner.jpg&amp;description=">
                    </a>
                  </div>

                  <img class="img-lazy img-responsive"
                    data-lazy-src="/src="/img/posts/react-rxjs-state-management-tutorial/banner.jpg"
                    data-is-src-set="is-src-set" alt="react rxjs tutorial" itemprop="image" />
                </div>
              </div>


              <p>Recently a <a href="../work-with-me/index.html">client of mine</a> inspired me to learn <a
                  target="_blank" rel="noopener noreferrer" href="https://www.learnrxjs.io">RxJS</a> for State
                Management in React. When I did a code audit for their application, they wanted to get my opinion about
                how to proceed with it after <a href="../learn-react-before-using-redux/index.html">only using
                  React&rsquo;s local state</a>. They reached a point where it wasn&rsquo;t feasible to only rely on
                React. The initial discussion was about <a href="../redux-mobx-confusion/index.html">Redux or MobX</a>
                for a more sophisticated state management. They had built a prototype for each of these technologies.
                However, they had also a prototype for a React application with RxJS. That&rsquo;s where the discussion
                got interesting.</p>

              <p><strong>The application was a marketplace for cryptocurrencies which had lots of real-time widgets. The
                  challenges:</strong></p>

              <ul>
                <li>Managing the control flow of many (asynchronously) data requests</li>
                <li>Real-time updates of various widgets on the dashboard</li>
                <li>Widgets and data coupling, because widgets needed data from other widgets too</li>
              </ul>

              <p>In conclusion, the challenge was not about React itself, even though I was able to help here and there
                with it, but managing everything behind the scenes that couple the cryptocurrency domain to React.
                That&rsquo;s where RxJS got interesting and the prototype they showed me looked really promising.</p>

              <p>In this tutorial, I want to guide you through building a simple application with RxJS in React. I am by
                no means an expert with RxJS, just learning it myself, and maybe some people can help me out here and
                there, but in the end, I just hope to offer you inspiration on how to do things differently in React.
                This tutorial is no introduction to RxJS but only one of many ways of using RxJS with React.</p>

              <h2 class="chapter-header" id="react-render-prop">RxJS in React</h2>

              <p>Let&rsquo;s say we have an application which will make a request to a <a target="_blank"
                  rel="noopener noreferrer" href="https://hn.algolia.com/api">third-party API</a> eventually. Before we
                can do this request, we have to capture a search term that is used for the data fetching to create the
                API URL.</p>

              <div class="highlight" style="background: #2f1e2e">
                <pre style="line-height: 125%"><code class="language-javascript" data-lang="javascript"><span></span><span style="color: #815ba4">import</span> <span style="color: #06b6ef">React</span> <span style="color: #06b6ef">from</span> <span style="color: #48b685">&#39;react&#39;</span><span style="color: #e7e9db">;</span>

<span style="color: #815ba4">const</span> <span style="color: #06b6ef">App</span> <span style="color: #5bc4bf">=</span> <span style="color: #e7e9db">({</span> <span style="color: #06b6ef">query</span><span style="color: #e7e9db">,</span> <span style="color: #06b6ef">onChangeQuery</span> <span style="color: #e7e9db">})</span> <span style="color: #5bc4bf">=&gt;</span> <span style="color: #e7e9db">(</span>
  <span style="color: #5bc4bf">&lt;</span><span style="color: #06b6ef">div</span><span style="color: #5bc4bf">&gt;</span>
    <span style="color: #5bc4bf">&lt;</span><span style="color: #06b6ef">h1</span><span style="color: #5bc4bf">&gt;</span><span style="color: #06b6ef">React</span> <span style="color: #815ba4">with</span> <span style="color: #06b6ef">RxJS</span><span style="color: #5bc4bf">&lt;</span><span style="color: #ef6155">/h1&gt;</span>

    <span style="color: #5bc4bf">&lt;</span><span style="color: #06b6ef">input</span>
      <span style="color: #06b6ef">type</span><span style="color: #5bc4bf">=</span><span style="color: #48b685">&quot;text&quot;</span>
      <span style="color: #06b6ef">value</span><span style="color: #5bc4bf">=</span><span style="color: #e7e9db">{</span><span style="color: #06b6ef">query</span><span style="color: #e7e9db">}</span>
      <span style="color: #06b6ef">onChange</span><span style="color: #5bc4bf">=</span><span style="color: #e7e9db">{</span><span style="color: #06b6ef">event</span> <span style="color: #5bc4bf">=&gt;</span> <span style="color: #06b6ef">onChangeQuery</span><span style="color: #e7e9db">(</span><span style="color: #06b6ef">event</span><span style="color: #e7e9db">.</span><span style="color: #06b6ef">target</span><span style="color: #e7e9db">.</span><span style="color: #06b6ef">value</span><span style="color: #e7e9db">)}</span>
    <span style="color: #5bc4bf">/&gt;</span>

    <span style="color: #5bc4bf">&lt;</span><span style="color: #06b6ef">p</span><span style="color: #5bc4bf">&gt;</span><span style="color: #e7e9db">{</span><span style="color: #48b685">`http://hn.algolia.com/api/v1/search?query=</span><span style="color: #f99b15">${</span><span style="color: #06b6ef">query</span><span style="color: #f99b15">}</span><span style="color: #48b685">`</span><span style="color: #e7e9db">}</span><span style="color: #5bc4bf">&lt;</span><span style="color: #ef6155">/p&gt;</span>
  <span style="color: #5bc4bf">&lt;</span><span style="color: #ef6155">/div&gt;</span>
<span style="color: #e7e9db">);</span>

<span style="color: #815ba4">export</span> <span style="color: #815ba4">default</span> <span style="color: #06b6ef">App</span><span style="color: #e7e9db">;</span>
</code></pre>
              </div>


              <p>What&rsquo;s missing in this React component is the state management. No one stores the state for the
                <code>query</code> property and no one updates the state with the <code>onChangeQuery</code> function.
                Usually you would add local state management to this React component.</p>

              <div class="highlight" style="background: #2f1e2e">
                <pre style="line-height: 125%"><code class="language-javascript" data-lang="javascript"><span></span><span style="color: #815ba4">class</span> <span style="color: #06b6ef">App</span> <span style="color: #815ba4">extends</span> <span style="color: #06b6ef">React</span><span style="color: #e7e9db">.</span><span style="color: #06b6ef">Component</span> <span style="color: #e7e9db">{</span>
<span style="background-color: #4f424c">  <span style="color: #06b6ef">constructor</span><span style="color: #e7e9db">(</span><span style="color: #06b6ef">props</span><span style="color: #e7e9db">)</span> <span style="color: #e7e9db">{</span>
</span><span style="background-color: #4f424c">    <span style="color: #815ba4">super</span><span style="color: #e7e9db">(</span><span style="color: #06b6ef">props</span><span style="color: #e7e9db">);</span>
</span><span style="background-color: #4f424c">
</span><span style="background-color: #4f424c">    <span style="color: #815ba4">this</span><span style="color: #e7e9db">.</span><span style="color: #06b6ef">state</span> <span style="color: #5bc4bf">=</span> <span style="color: #e7e9db">{</span>
</span><span style="background-color: #4f424c">      <span style="color: #06b6ef">query</span><span style="color: #5bc4bf">:</span> <span style="color: #48b685">&#39;&#39;</span><span style="color: #e7e9db">,</span>
</span><span style="background-color: #4f424c">    <span style="color: #e7e9db">};</span>
</span><span style="background-color: #4f424c">  <span style="color: #e7e9db">}</span>
</span>
<span style="background-color: #4f424c">  <span style="color: #06b6ef">onChangeQuery</span> <span style="color: #5bc4bf">=</span> <span style="color: #06b6ef">query</span> <span style="color: #5bc4bf">=&gt;</span> <span style="color: #e7e9db">{</span>
</span><span style="background-color: #4f424c">    <span style="color: #815ba4">this</span><span style="color: #e7e9db">.</span><span style="color: #06b6ef">setState</span><span style="color: #e7e9db">({</span> <span style="color: #06b6ef">query</span> <span style="color: #e7e9db">});</span>
</span><span style="background-color: #4f424c">  <span style="color: #e7e9db">};</span>
</span>
  <span style="color: #06b6ef">render</span><span style="color: #e7e9db">()</span> <span style="color: #e7e9db">{</span>
    <span style="color: #815ba4">return</span> <span style="color: #e7e9db">(</span>
      <span style="color: #5bc4bf">&lt;</span><span style="color: #06b6ef">div</span><span style="color: #5bc4bf">&gt;</span>
        <span style="color: #5bc4bf">&lt;</span><span style="color: #06b6ef">h1</span><span style="color: #5bc4bf">&gt;</span><span style="color: #06b6ef">React</span> <span style="color: #815ba4">with</span> <span style="color: #06b6ef">RxJS</span><span style="color: #5bc4bf">&lt;</span><span style="color: #ef6155">/h1&gt;</span>

        <span style="color: #5bc4bf">&lt;</span><span style="color: #06b6ef">input</span>
          <span style="color: #06b6ef">type</span><span style="color: #5bc4bf">=</span><span style="color: #48b685">&quot;text&quot;</span>
<span style="background-color: #4f424c">          <span style="color: #06b6ef">value</span><span style="color: #5bc4bf">=</span><span style="color: #e7e9db">{</span><span style="color: #815ba4">this</span><span style="color: #e7e9db">.</span><span style="color: #06b6ef">state</span><span style="color: #e7e9db">.</span><span style="color: #06b6ef">query</span><span style="color: #e7e9db">}</span>
</span>          <span style="color: #06b6ef">onChange</span><span style="color: #5bc4bf">=</span><span style="color: #e7e9db">{</span><span style="color: #06b6ef">event</span> <span style="color: #5bc4bf">=&gt;</span>
<span style="background-color: #4f424c">            <span style="color: #815ba4">this</span><span style="color: #e7e9db">.</span><span style="color: #06b6ef">onChangeQuery</span><span style="color: #e7e9db">(</span><span style="color: #06b6ef">event</span><span style="color: #e7e9db">.</span><span style="color: #06b6ef">target</span><span style="color: #e7e9db">.</span><span style="color: #06b6ef">value</span><span style="color: #e7e9db">)</span>
</span>          <span style="color: #e7e9db">}</span>
        <span style="color: #5bc4bf">/&gt;</span>

        <span style="color: #5bc4bf">&lt;</span><span style="color: #06b6ef">p</span><span style="color: #5bc4bf">&gt;</span><span style="color: #e7e9db">{</span><span style="color: #48b685">`http://hn.algolia.com/api/v1/search?query=</span><span style="color: #f99b15">${</span>
<span style="background-color: #4f424c">          <span style="color: #815ba4">this</span><span style="color: #e7e9db">.</span><span style="color: #06b6ef">state</span><span style="color: #e7e9db">.</span><span style="color: #06b6ef">query</span>
</span>        <span style="color: #f99b15">}</span><span style="color: #48b685">`</span><span style="color: #e7e9db">}</span><span style="color: #5bc4bf">&lt;</span><span style="color: #ef6155">/p&gt;</span>
      <span style="color: #5bc4bf">&lt;</span><span style="color: #ef6155">/div&gt;</span>
    <span style="color: #e7e9db">);</span>
  <span style="color: #e7e9db">}</span>
<span style="color: #e7e9db">}</span>

<span style="color: #815ba4">export</span> <span style="color: #815ba4">default</span> <span style="color: #06b6ef">App</span><span style="color: #e7e9db">;</span>
</code></pre>
              </div>


              <p>But that&rsquo;s not the approach we are going to use here. Instead, we want to manage the state
                somehow with RxJS. Let&rsquo;s see how we can do this with a higher-order component. If you want, you
                can implement the following logic in your App component too, but you will most likely extract it as a <a
                  href="../gentle-introduction-higher-order-components/index.html">reusable higher-order component
                  (HOC)</a> at some point anyway.</p>

              <h2 class="chapter-header" id="react-rxjs-hoc">React &#43; RxJS Higher-Order Component (HOC)</h2>

              <p>Let&rsquo;s introduce a way on how to manage state in React with RxJS by having a higher-order
                component for it. You could also implement a <a href="../react-render-props-pattern/index.html">render
                  prop component</a> instead. In the end, if you don&rsquo;t want to implement your own higher-order
                component for it, checkout <a target="_blank" rel="noopener noreferrer"
                  href="https://github.com/acdlite/recompose/blob/master/docs/API.md#observable-utilities">recompose&rsquo;s
                  observable higher-order components</a> with <code>mapPropsStream()</code> and
                <code>componentFromStream()</code>. In this tutorial though, you will build your own.</p>

              <div class="highlight" style="background: #2f1e2e">
                <pre style="line-height: 125%"><code class="language-javascript" data-lang="javascript"><span></span><span style="color: #815ba4">import</span> <span style="color: #06b6ef">React</span> <span style="color: #06b6ef">from</span> <span style="color: #48b685">&#39;react&#39;</span><span style="color: #e7e9db">;</span>

<span style="background-color: #4f424c"><span style="color: #815ba4">const</span> <span style="color: #06b6ef">withObservableStream</span> <span style="color: #5bc4bf">=</span> <span style="color: #e7e9db">(...)</span> <span style="color: #5bc4bf">=&gt;</span> <span style="color: #06b6ef">Component</span> <span style="color: #5bc4bf">=&gt;</span> <span style="color: #e7e9db">{</span>
</span><span style="background-color: #4f424c">  <span style="color: #815ba4">return</span> <span style="color: #815ba4">class</span> <span style="color: #815ba4">extends</span> <span style="color: #06b6ef">React</span><span style="color: #e7e9db">.</span><span style="color: #06b6ef">Component</span> <span style="color: #e7e9db">{</span>
</span><span style="background-color: #4f424c">    <span style="color: #06b6ef">componentDidMount</span><span style="color: #e7e9db">()</span> <span style="color: #e7e9db">{}</span>
</span><span style="background-color: #4f424c">
</span><span style="background-color: #4f424c">    <span style="color: #06b6ef">componentWillUnmount</span><span style="color: #e7e9db">()</span> <span style="color: #e7e9db">{}</span>
</span><span style="background-color: #4f424c">
</span><span style="background-color: #4f424c">    <span style="color: #06b6ef">render</span><span style="color: #e7e9db">()</span> <span style="color: #e7e9db">{</span>
</span><span style="background-color: #4f424c">      <span style="color: #815ba4">return</span> <span style="color: #e7e9db">(</span>
</span><span style="background-color: #4f424c">        <span style="color: #5bc4bf">&lt;</span><span style="color: #06b6ef">Component</span> <span style="color: #e7e9db">{...</span><span style="color: #815ba4">this</span><span style="color: #e7e9db">.</span><span style="color: #06b6ef">props</span><span style="color: #e7e9db">}</span> <span style="color: #e7e9db">{...</span><span style="color: #815ba4">this</span><span style="color: #e7e9db">.</span><span style="color: #06b6ef">state</span><span style="color: #e7e9db">}</span> <span style="color: #5bc4bf">/&gt;</span>
</span><span style="background-color: #4f424c">      <span style="color: #e7e9db">);</span>
</span><span style="background-color: #4f424c">    <span style="color: #e7e9db">}</span>
</span><span style="background-color: #4f424c">  <span style="color: #e7e9db">};</span>
</span><span style="background-color: #4f424c"><span style="color: #e7e9db">};</span>
</span>
<span style="color: #815ba4">const</span> <span style="color: #06b6ef">App</span> <span style="color: #5bc4bf">=</span> <span style="color: #e7e9db">({</span> <span style="color: #06b6ef">query</span><span style="color: #e7e9db">,</span> <span style="color: #06b6ef">onChangeQuery</span> <span style="color: #e7e9db">})</span> <span style="color: #5bc4bf">=&gt;</span> <span style="color: #e7e9db">(</span>
  <span style="color: #5bc4bf">&lt;</span><span style="color: #06b6ef">div</span><span style="color: #5bc4bf">&gt;</span>
    <span style="color: #5bc4bf">&lt;</span><span style="color: #06b6ef">h1</span><span style="color: #5bc4bf">&gt;</span><span style="color: #06b6ef">React</span> <span style="color: #815ba4">with</span> <span style="color: #06b6ef">RxJS</span><span style="color: #5bc4bf">&lt;</span><span style="color: #ef6155">/h1&gt;</span>

    <span style="color: #5bc4bf">&lt;</span><span style="color: #06b6ef">input</span>
      <span style="color: #06b6ef">type</span><span style="color: #5bc4bf">=</span><span style="color: #48b685">&quot;text&quot;</span>
      <span style="color: #06b6ef">value</span><span style="color: #5bc4bf">=</span><span style="color: #e7e9db">{</span><span style="color: #06b6ef">query</span><span style="color: #e7e9db">}</span>
      <span style="color: #06b6ef">onChange</span><span style="color: #5bc4bf">=</span><span style="color: #e7e9db">{</span><span style="color: #06b6ef">event</span> <span style="color: #5bc4bf">=&gt;</span> <span style="color: #06b6ef">onChangeQuery</span><span style="color: #e7e9db">(</span><span style="color: #06b6ef">event</span><span style="color: #e7e9db">.</span><span style="color: #06b6ef">target</span><span style="color: #e7e9db">.</span><span style="color: #06b6ef">value</span><span style="color: #e7e9db">)}</span>
    <span style="color: #5bc4bf">/&gt;</span>

    <span style="color: #5bc4bf">&lt;</span><span style="color: #06b6ef">p</span><span style="color: #5bc4bf">&gt;</span><span style="color: #e7e9db">{</span><span style="color: #48b685">`http://hn.algolia.com/api/v1/search?query=</span><span style="color: #f99b15">${</span><span style="color: #06b6ef">query</span><span style="color: #f99b15">}</span><span style="color: #48b685">`</span><span style="color: #e7e9db">}</span><span style="color: #5bc4bf">&lt;</span><span style="color: #ef6155">/p&gt;</span>
  <span style="color: #5bc4bf">&lt;</span><span style="color: #ef6155">/div&gt;</span>
<span style="color: #e7e9db">);</span>

<span style="background-color: #4f424c"><span style="color: #815ba4">export</span> <span style="color: #815ba4">default</span> <span style="color: #06b6ef">withObservableStream</span><span style="color: #e7e9db">(...)(</span><span style="color: #06b6ef">App</span><span style="color: #e7e9db">);</span>
</span></code></pre>
              </div>


              <p>The RxJS HOC is not doing anything yet. It only <a
                  href="../react-pass-props-to-component/index.html">passes its own state and props</a> to the input
                component which is going to be enhanced by it. As you can see, the higher-order component will manage
                React state eventually. However, this state will be derived from an observable stream. Before we can
                start implementing the HOC and using it for App component, we have to install RxJS:</p>

              <div class="highlight" style="background: #2f1e2e">
                <pre style="line-height: 125%"><code class="language-javascript" data-lang="javascript"><span></span><span style="color: #06b6ef">npm</span> <span style="color: #06b6ef">install</span> <span style="color: #06b6ef">rxjs</span> <span style="color: #5bc4bf">--</span><span style="color: #06b6ef">save</span>
</code></pre>
              </div>


              <p>Now, let&rsquo;s start by using the HOC and implementing the logic of the HOC afterward:</p>

              <div class="highlight" style="background: #2f1e2e">
                <pre style="line-height: 125%"><code class="language-javascript" data-lang="javascript"><span></span><span style="color: #815ba4">import</span> <span style="color: #06b6ef">React</span> <span style="color: #06b6ef">from</span> <span style="color: #48b685">&#39;react&#39;</span><span style="color: #e7e9db">;</span>
<span style="background-color: #4f424c"><span style="color: #815ba4">import</span> <span style="color: #e7e9db">{</span> <span style="color: #06b6ef">BehaviorSubject</span> <span style="color: #e7e9db">}</span> <span style="color: #06b6ef">from</span> <span style="color: #48b685">&#39;rxjs&#39;</span><span style="color: #e7e9db">;</span>
</span>
<span style="color: #e7e9db">...</span>

<span style="color: #815ba4">const</span> <span style="color: #06b6ef">App</span> <span style="color: #5bc4bf">=</span> <span style="color: #e7e9db">({</span> <span style="color: #06b6ef">query</span><span style="color: #e7e9db">,</span> <span style="color: #06b6ef">onChangeQuery</span> <span style="color: #e7e9db">})</span> <span style="color: #5bc4bf">=&gt;</span> <span style="color: #e7e9db">(</span>
  <span style="color: #5bc4bf">&lt;</span><span style="color: #06b6ef">div</span><span style="color: #5bc4bf">&gt;</span>
    <span style="color: #5bc4bf">&lt;</span><span style="color: #06b6ef">h1</span><span style="color: #5bc4bf">&gt;</span><span style="color: #06b6ef">React</span> <span style="color: #815ba4">with</span> <span style="color: #06b6ef">RxJS</span><span style="color: #5bc4bf">&lt;</span><span style="color: #ef6155">/h1&gt;</span>

    <span style="color: #5bc4bf">&lt;</span><span style="color: #06b6ef">input</span>
      <span style="color: #06b6ef">type</span><span style="color: #5bc4bf">=</span><span style="color: #48b685">&quot;text&quot;</span>
      <span style="color: #06b6ef">value</span><span style="color: #5bc4bf">=</span><span style="color: #e7e9db">{</span><span style="color: #06b6ef">query</span><span style="color: #e7e9db">}</span>
      <span style="color: #06b6ef">onChange</span><span style="color: #5bc4bf">=</span><span style="color: #e7e9db">{</span><span style="color: #06b6ef">event</span> <span style="color: #5bc4bf">=&gt;</span> <span style="color: #06b6ef">onChangeQuery</span><span style="color: #e7e9db">(</span><span style="color: #06b6ef">event</span><span style="color: #e7e9db">.</span><span style="color: #06b6ef">target</span><span style="color: #e7e9db">.</span><span style="color: #06b6ef">value</span><span style="color: #e7e9db">)}</span>
    <span style="color: #5bc4bf">/&gt;</span>

    <span style="color: #5bc4bf">&lt;</span><span style="color: #06b6ef">p</span><span style="color: #5bc4bf">&gt;</span><span style="color: #e7e9db">{</span><span style="color: #48b685">`http://hn.algolia.com/api/v1/search?query=</span><span style="color: #f99b15">${</span><span style="color: #06b6ef">query</span><span style="color: #f99b15">}</span><span style="color: #48b685">`</span><span style="color: #e7e9db">}</span><span style="color: #5bc4bf">&lt;</span><span style="color: #ef6155">/p&gt;</span>
  <span style="color: #5bc4bf">&lt;</span><span style="color: #ef6155">/div&gt;</span>
<span style="color: #e7e9db">);</span>

<span style="background-color: #4f424c"><span style="color: #815ba4">const</span> <span style="color: #06b6ef">query$</span> <span style="color: #5bc4bf">=</span> <span style="color: #815ba4">new</span> <span style="color: #06b6ef">BehaviorSubject</span><span style="color: #e7e9db">({</span> <span style="color: #06b6ef">query</span><span style="color: #5bc4bf">:</span> <span style="color: #48b685">&#39;react&#39;</span> <span style="color: #e7e9db">});</span>
</span>
<span style="background-color: #4f424c"><span style="color: #815ba4">export</span> <span style="color: #815ba4">default</span> <span style="color: #06b6ef">withObservableStream</span><span style="color: #e7e9db">(</span>
</span><span style="background-color: #4f424c">  <span style="color: #06b6ef">query$</span><span style="color: #e7e9db">,</span>
</span><span style="background-color: #4f424c">  <span style="color: #e7e9db">{</span>
</span><span style="background-color: #4f424c">    <span style="color: #06b6ef">onChangeQuery</span><span style="color: #5bc4bf">:</span> <span style="color: #06b6ef">value</span> <span style="color: #5bc4bf">=&gt;</span> <span style="color: #06b6ef">query$</span><span style="color: #e7e9db">.</span><span style="color: #06b6ef">next</span><span style="color: #e7e9db">({</span> <span style="color: #06b6ef">query</span><span style="color: #5bc4bf">:</span> <span style="color: #06b6ef">value</span> <span style="color: #e7e9db">}),</span>
</span><span style="background-color: #4f424c">  <span style="color: #e7e9db">}</span>
</span><span style="background-color: #4f424c"><span style="color: #e7e9db">)(</span><span style="color: #06b6ef">App</span><span style="color: #e7e9db">);</span>
</span></code></pre>
              </div>


              <p>The App component itself didn&rsquo;t change. We have only passed two arguments to the higher-order
                component.</p>

              <ul>
                <li>
                  <p><strong>Observable:</strong> The <code>query</code> argument is an observable which has an initial
                    value, but also emits its new values over time (hence the BehaviorSubject). Anyone can subscribe to
                    this observable. Explanation from the <a target="_blank" rel="noopener noreferrer"
                      href="http://reactivex.io/rxjs/manual/overview.html#subject">RxJS documentation</a> about the
                    BehaviorSubject: <em>&ldquo;One of the variants of Subjects is the BehaviorSubject, which has a
                      notion of &ldquo;the current value&rdquo;. It stores the latest value emitted to its consumers,
                      and whenever a new Observer subscribes, it will immediately receive the &ldquo;current
                      value&rdquo; from the BehaviorSubject. BehaviorSubjects are useful for representing &ldquo;values
                      over time&rdquo;.&rdquo;</em></p>
                </li>

                <li>
                  <p><strong>Triggers on Observable(s):</strong> The <code>onChangeQuery()</code> function that is
                    passed via the HOC to the App component is only a function that pushes the next value into the
                    observable. It&rsquo;s an object, because we may want to pass more of these functions that are doing
                    something with the observables to the higher-order component.</p>
                </li>
              </ul>

              <p>By creating the observable and subscribing to it, the stream for the query value should work. However,
                so far the higher-order component is a black box for us. Let&rsquo;s implement it:</p>

              <div class="highlight" style="background: #2f1e2e">
                <pre style="line-height: 125%"><code class="language-javascript" data-lang="javascript"><span></span><span style="background-color: #4f424c"><span style="color: #815ba4">const</span> <span style="color: #06b6ef">withObservableStream</span> <span style="color: #5bc4bf">=</span> <span style="color: #e7e9db">(</span><span style="color: #06b6ef">observable</span><span style="color: #e7e9db">,</span> <span style="color: #06b6ef">triggers</span><span style="color: #e7e9db">)</span> <span style="color: #5bc4bf">=&gt;</span> <span style="color: #06b6ef">Component</span> <span style="color: #5bc4bf">=&gt;</span> <span style="color: #e7e9db">{</span>
</span>  <span style="color: #815ba4">return</span> <span style="color: #815ba4">class</span> <span style="color: #815ba4">extends</span> <span style="color: #06b6ef">React</span><span style="color: #e7e9db">.</span><span style="color: #06b6ef">Component</span> <span style="color: #e7e9db">{</span>
    <span style="color: #06b6ef">componentDidMount</span><span style="color: #e7e9db">()</span> <span style="color: #e7e9db">{</span>
<span style="background-color: #4f424c">      <span style="color: #815ba4">this</span><span style="color: #e7e9db">.</span><span style="color: #06b6ef">subscription</span> <span style="color: #5bc4bf">=</span> <span style="color: #06b6ef">observable</span><span style="color: #e7e9db">.</span><span style="color: #06b6ef">subscribe</span><span style="color: #e7e9db">(</span><span style="color: #06b6ef">newState</span> <span style="color: #5bc4bf">=&gt;</span>
</span><span style="background-color: #4f424c">        <span style="color: #815ba4">this</span><span style="color: #e7e9db">.</span><span style="color: #06b6ef">setState</span><span style="color: #e7e9db">({</span> <span style="color: #e7e9db">...</span><span style="color: #06b6ef">newState</span> <span style="color: #e7e9db">}),</span>
</span><span style="background-color: #4f424c">      <span style="color: #e7e9db">);</span>
</span>    <span style="color: #e7e9db">}</span>

    <span style="color: #06b6ef">componentWillUnmount</span><span style="color: #e7e9db">()</span> <span style="color: #e7e9db">{</span>
<span style="background-color: #4f424c">      <span style="color: #815ba4">this</span><span style="color: #e7e9db">.</span><span style="color: #06b6ef">subscription</span><span style="color: #e7e9db">.</span><span style="color: #06b6ef">unsubscribe</span><span style="color: #e7e9db">();</span>
</span>    <span style="color: #e7e9db">}</span>

    <span style="color: #06b6ef">render</span><span style="color: #e7e9db">()</span> <span style="color: #e7e9db">{</span>
      <span style="color: #815ba4">return</span> <span style="color: #e7e9db">(</span>
<span style="background-color: #4f424c">        <span style="color: #5bc4bf">&lt;</span><span style="color: #06b6ef">Component</span> <span style="color: #e7e9db">{...</span><span style="color: #815ba4">this</span><span style="color: #e7e9db">.</span><span style="color: #06b6ef">props</span><span style="color: #e7e9db">}</span> <span style="color: #e7e9db">{...</span><span style="color: #815ba4">this</span><span style="color: #e7e9db">.</span><span style="color: #06b6ef">state</span><span style="color: #e7e9db">}</span> <span style="color: #e7e9db">{...</span><span style="color: #06b6ef">triggers</span><span style="color: #e7e9db">}</span> <span style="color: #5bc4bf">/&gt;</span>
</span>      <span style="color: #e7e9db">);</span>
    <span style="color: #e7e9db">}</span>
  <span style="color: #e7e9db">};</span>
<span style="color: #e7e9db">};</span>
</code></pre>
              </div>


              <p>The higher-order component receives the observable and the object of triggers (perhaps there is a
                better term in RxJS lingua for it) in its function signature.</p>

              <p>The triggers are only passed through the HOC to the input component. That&rsquo;s why the App component
                receives straight forward the <code>onChangeQuery()</code> function which operates directly on the
                observable to push a new value to it.</p>

              <p>The observable is used in the <code>componentDidMount()</code> lifecycle method to subscribe to it and
                in the <code>componentWillUnmount()</code> lifecycle method to unsubscribe from it. The <a
                  href="../react-warning-cant-call-setstate-on-an-unmounted-component/index.html">unsubscription needs
                  to happen to prevent memory leaks</a>. Within the observable subscription, the function only pushes
                all incoming values from the stream to React&rsquo;s local state with <code>this.setState()</code>.</p>

              <p>One small change in the App component let&rsquo;s get you away with not setting an initial state for
                the query property in the higher-order component. If you wouldn&rsquo;t apply this change, the query
                property would be undefined in the beginning. Doing it with this workaround, it receives a default
                parameter.</p>

              <div class="highlight" style="background: #2f1e2e">
                <pre style="line-height: 125%"><code class="language-javascript" data-lang="javascript"><span></span><span style="background-color: #4f424c"><span style="color: #815ba4">const</span> <span style="color: #06b6ef">App</span> <span style="color: #5bc4bf">=</span> <span style="color: #e7e9db">({</span> <span style="color: #06b6ef">query</span> <span style="color: #5bc4bf">=</span> <span style="color: #48b685">&#39;&#39;</span><span style="color: #e7e9db">,</span> <span style="color: #06b6ef">onChangeQuery</span> <span style="color: #e7e9db">})</span> <span style="color: #5bc4bf">=&gt;</span> <span style="color: #e7e9db">(</span>
</span>  <span style="color: #5bc4bf">&lt;</span><span style="color: #06b6ef">div</span><span style="color: #5bc4bf">&gt;</span>
    <span style="color: #5bc4bf">&lt;</span><span style="color: #06b6ef">h1</span><span style="color: #5bc4bf">&gt;</span><span style="color: #06b6ef">React</span> <span style="color: #815ba4">with</span> <span style="color: #06b6ef">RxJS</span><span style="color: #5bc4bf">&lt;</span><span style="color: #ef6155">/h1&gt;</span>

    <span style="color: #5bc4bf">&lt;</span><span style="color: #06b6ef">input</span>
      <span style="color: #06b6ef">type</span><span style="color: #5bc4bf">=</span><span style="color: #48b685">&quot;text&quot;</span>
      <span style="color: #06b6ef">value</span><span style="color: #5bc4bf">=</span><span style="color: #e7e9db">{</span><span style="color: #06b6ef">query</span><span style="color: #e7e9db">}</span>
      <span style="color: #06b6ef">onChange</span><span style="color: #5bc4bf">=</span><span style="color: #e7e9db">{</span><span style="color: #06b6ef">event</span> <span style="color: #5bc4bf">=&gt;</span> <span style="color: #06b6ef">onChangeQuery</span><span style="color: #e7e9db">(</span><span style="color: #06b6ef">event</span><span style="color: #e7e9db">.</span><span style="color: #06b6ef">target</span><span style="color: #e7e9db">.</span><span style="color: #06b6ef">value</span><span style="color: #e7e9db">)}</span>
    <span style="color: #5bc4bf">/&gt;</span>

    <span style="color: #5bc4bf">&lt;</span><span style="color: #06b6ef">p</span><span style="color: #5bc4bf">&gt;</span><span style="color: #e7e9db">{</span><span style="color: #48b685">`http://hn.algolia.com/api/v1/search?query=</span><span style="color: #f99b15">${</span><span style="color: #06b6ef">query</span><span style="color: #f99b15">}</span><span style="color: #48b685">`</span><span style="color: #e7e9db">}</span><span style="color: #5bc4bf">&lt;</span><span style="color: #ef6155">/p&gt;</span>
  <span style="color: #5bc4bf">&lt;</span><span style="color: #ef6155">/div&gt;</span>
<span style="color: #e7e9db">);</span>
</code></pre>
              </div>


              <p>Another way of coping with this problem would have been to set an initial state for the query component
                in the higher-order component:</p>

              <div class="highlight" style="background: #2f1e2e">
                <pre style="line-height: 125%"><code class="language-javascript" data-lang="javascript"><span></span><span style="color: #815ba4">const</span> <span style="color: #06b6ef">withObservableStream</span> <span style="color: #5bc4bf">=</span> <span style="color: #e7e9db">(</span>
  <span style="color: #06b6ef">observable</span><span style="color: #e7e9db">,</span>
  <span style="color: #06b6ef">triggers</span><span style="color: #e7e9db">,</span>
<span style="background-color: #4f424c">  <span style="color: #06b6ef">initialState</span><span style="color: #e7e9db">,</span>
</span><span style="color: #e7e9db">)</span> <span style="color: #5bc4bf">=&gt;</span> <span style="color: #06b6ef">Component</span> <span style="color: #5bc4bf">=&gt;</span> <span style="color: #e7e9db">{</span>
  <span style="color: #815ba4">return</span> <span style="color: #815ba4">class</span> <span style="color: #815ba4">extends</span> <span style="color: #06b6ef">React</span><span style="color: #e7e9db">.</span><span style="color: #06b6ef">Component</span> <span style="color: #e7e9db">{</span>
<span style="background-color: #4f424c">    <span style="color: #06b6ef">constructor</span><span style="color: #e7e9db">(</span><span style="color: #06b6ef">props</span><span style="color: #e7e9db">)</span> <span style="color: #e7e9db">{</span>
</span><span style="background-color: #4f424c">      <span style="color: #815ba4">super</span><span style="color: #e7e9db">(</span><span style="color: #06b6ef">props</span><span style="color: #e7e9db">);</span>
</span><span style="background-color: #4f424c">
</span><span style="background-color: #4f424c">      <span style="color: #815ba4">this</span><span style="color: #e7e9db">.</span><span style="color: #06b6ef">state</span> <span style="color: #5bc4bf">=</span> <span style="color: #e7e9db">{</span>
</span><span style="background-color: #4f424c">        <span style="color: #e7e9db">...</span><span style="color: #06b6ef">initialState</span><span style="color: #e7e9db">,</span>
</span><span style="background-color: #4f424c">      <span style="color: #e7e9db">};</span>
</span><span style="background-color: #4f424c">    <span style="color: #e7e9db">}</span>
</span>
    <span style="color: #06b6ef">componentDidMount</span><span style="color: #e7e9db">()</span> <span style="color: #e7e9db">{</span>
      <span style="color: #815ba4">this</span><span style="color: #e7e9db">.</span><span style="color: #06b6ef">subscription</span> <span style="color: #5bc4bf">=</span> <span style="color: #06b6ef">observable</span><span style="color: #e7e9db">.</span><span style="color: #06b6ef">subscribe</span><span style="color: #e7e9db">(</span><span style="color: #06b6ef">newState</span> <span style="color: #5bc4bf">=&gt;</span>
        <span style="color: #815ba4">this</span><span style="color: #e7e9db">.</span><span style="color: #06b6ef">setState</span><span style="color: #e7e9db">({</span> <span style="color: #e7e9db">...</span><span style="color: #06b6ef">newState</span> <span style="color: #e7e9db">}),</span>
      <span style="color: #e7e9db">);</span>
    <span style="color: #e7e9db">}</span>

    <span style="color: #06b6ef">componentWillUnmount</span><span style="color: #e7e9db">()</span> <span style="color: #e7e9db">{</span>
      <span style="color: #815ba4">this</span><span style="color: #e7e9db">.</span><span style="color: #06b6ef">subscription</span><span style="color: #e7e9db">.</span><span style="color: #06b6ef">unsubscribe</span><span style="color: #e7e9db">();</span>
    <span style="color: #e7e9db">}</span>

    <span style="color: #06b6ef">render</span><span style="color: #e7e9db">()</span> <span style="color: #e7e9db">{</span>
      <span style="color: #815ba4">return</span> <span style="color: #e7e9db">(</span>
        <span style="color: #5bc4bf">&lt;</span><span style="color: #06b6ef">Component</span> <span style="color: #e7e9db">{...</span><span style="color: #815ba4">this</span><span style="color: #e7e9db">.</span><span style="color: #06b6ef">props</span><span style="color: #e7e9db">}</span> <span style="color: #e7e9db">{...</span><span style="color: #815ba4">this</span><span style="color: #e7e9db">.</span><span style="color: #06b6ef">state</span><span style="color: #e7e9db">}</span> <span style="color: #e7e9db">{...</span><span style="color: #06b6ef">triggers</span><span style="color: #e7e9db">}</span> <span style="color: #5bc4bf">/&gt;</span>
      <span style="color: #e7e9db">);</span>
    <span style="color: #e7e9db">}</span>
  <span style="color: #e7e9db">};</span>
<span style="color: #e7e9db">};</span>

<span style="color: #815ba4">const</span> <span style="color: #06b6ef">App</span> <span style="color: #5bc4bf">=</span> <span style="color: #e7e9db">({</span> <span style="color: #06b6ef">query</span><span style="color: #e7e9db">,</span> <span style="color: #06b6ef">onChangeQuery</span> <span style="color: #e7e9db">})</span> <span style="color: #5bc4bf">=&gt;</span> <span style="color: #e7e9db">(</span>
  <span style="color: #e7e9db">...</span>
<span style="color: #e7e9db">);</span>

<span style="color: #815ba4">export</span> <span style="color: #815ba4">default</span> <span style="color: #06b6ef">withObservableStream</span><span style="color: #e7e9db">(</span>
  <span style="color: #06b6ef">query$</span><span style="color: #e7e9db">,</span>
  <span style="color: #e7e9db">{</span>
    <span style="color: #06b6ef">onChangeQuery</span><span style="color: #5bc4bf">:</span> <span style="color: #06b6ef">value</span> <span style="color: #5bc4bf">=&gt;</span> <span style="color: #06b6ef">query$</span><span style="color: #e7e9db">.</span><span style="color: #06b6ef">next</span><span style="color: #e7e9db">({</span> <span style="color: #06b6ef">query</span><span style="color: #5bc4bf">:</span> <span style="color: #06b6ef">value</span> <span style="color: #e7e9db">}),</span>
  <span style="color: #e7e9db">},</span>
<span style="background-color: #4f424c">  <span style="color: #e7e9db">{</span>
</span><span style="background-color: #4f424c">    <span style="color: #06b6ef">query</span><span style="color: #5bc4bf">:</span> <span style="color: #48b685">&#39;&#39;</span><span style="color: #e7e9db">,</span>
</span><span style="background-color: #4f424c">  <span style="color: #e7e9db">}</span>
</span><span style="color: #e7e9db">)(</span><span style="color: #06b6ef">App</span><span style="color: #e7e9db">);</span>
</code></pre>
              </div>


              <p>If you try your application, the input field should work. The App component only receives the query
                state and the onChangeQuery function to alter the state from the HOC as props. Receiving and altering
                state happens via RxJS observables even though the higher-order component uses React&rsquo;s local state
                internally. I couldn&rsquo;t find a quick solution on how to stream the values from the observables
                subscription directly to the props of the enhanced component (App). That&rsquo;s why I have used
                React&rsquo;s local state as intermediate layer which triggers comfortably a re-render for us as well.
                If you know another way of doing it, you canleave me a comment below.</p>

              <h2 class="chapter-header" id="react-rxjs-combine-observables">Combine Observables in React</h2>

              <p>Let&rsquo;s introduce a second value stream that can be manipulated in the App component similar to the
                query property. Later, we will use both values to operate on them with yet another observable:</p>

              <div class="highlight" style="background: #2f1e2e">
                <pre style="line-height: 125%"><code class="language-javascript" data-lang="javascript"><span></span><span style="background-color: #4f424c"><span style="color: #815ba4">const</span> <span style="color: #06b6ef">SUBJECT</span> <span style="color: #5bc4bf">=</span> <span style="color: #e7e9db">{</span>
</span><span style="background-color: #4f424c">  <span style="color: #06b6ef">POPULARITY</span><span style="color: #5bc4bf">:</span> <span style="color: #48b685">&#39;search&#39;</span><span style="color: #e7e9db">,</span>
</span><span style="background-color: #4f424c">  <span style="color: #06b6ef">DATE</span><span style="color: #5bc4bf">:</span> <span style="color: #48b685">&#39;search_by_date&#39;</span><span style="color: #e7e9db">,</span>
</span><span style="background-color: #4f424c"><span style="color: #e7e9db">};</span>
</span>
<span style="color: #815ba4">const</span> <span style="color: #06b6ef">App</span> <span style="color: #5bc4bf">=</span> <span style="color: #e7e9db">({</span>
  <span style="color: #06b6ef">query</span> <span style="color: #5bc4bf">=</span> <span style="color: #48b685">&#39;&#39;</span><span style="color: #e7e9db">,</span>
<span style="background-color: #4f424c">  <span style="color: #06b6ef">subject</span><span style="color: #e7e9db">,</span>
</span>  <span style="color: #06b6ef">onChangeQuery</span><span style="color: #e7e9db">,</span>
<span style="background-color: #4f424c">  <span style="color: #06b6ef">onSelectSubject</span><span style="color: #e7e9db">,</span>
</span><span style="color: #e7e9db">})</span> <span style="color: #5bc4bf">=&gt;</span> <span style="color: #e7e9db">(</span>
  <span style="color: #5bc4bf">&lt;</span><span style="color: #06b6ef">div</span><span style="color: #5bc4bf">&gt;</span>
    <span style="color: #5bc4bf">&lt;</span><span style="color: #06b6ef">h1</span><span style="color: #5bc4bf">&gt;</span><span style="color: #06b6ef">React</span> <span style="color: #815ba4">with</span> <span style="color: #06b6ef">RxJS</span><span style="color: #5bc4bf">&lt;</span><span style="color: #ef6155">/h1&gt;</span>

    <span style="color: #5bc4bf">&lt;</span><span style="color: #06b6ef">input</span>
      <span style="color: #06b6ef">type</span><span style="color: #5bc4bf">=</span><span style="color: #48b685">&quot;text&quot;</span>
      <span style="color: #06b6ef">value</span><span style="color: #5bc4bf">=</span><span style="color: #e7e9db">{</span><span style="color: #06b6ef">query</span><span style="color: #e7e9db">}</span>
      <span style="color: #06b6ef">onChange</span><span style="color: #5bc4bf">=</span><span style="color: #e7e9db">{</span><span style="color: #06b6ef">event</span> <span style="color: #5bc4bf">=&gt;</span> <span style="color: #06b6ef">onChangeQuery</span><span style="color: #e7e9db">(</span><span style="color: #06b6ef">event</span><span style="color: #e7e9db">.</span><span style="color: #06b6ef">target</span><span style="color: #e7e9db">.</span><span style="color: #06b6ef">value</span><span style="color: #e7e9db">)}</span>
    <span style="color: #5bc4bf">/&gt;</span>

<span style="background-color: #4f424c">    <span style="color: #5bc4bf">&lt;</span><span style="color: #06b6ef">div</span><span style="color: #5bc4bf">&gt;</span>
</span><span style="background-color: #4f424c">      <span style="color: #e7e9db">{Object.</span><span style="color: #06b6ef">values</span><span style="color: #e7e9db">(</span><span style="color: #06b6ef">SUBJECT</span><span style="color: #e7e9db">).</span><span style="color: #06b6ef">map</span><span style="color: #e7e9db">(</span><span style="color: #06b6ef">value</span> <span style="color: #5bc4bf">=&gt;</span> <span style="color: #e7e9db">(</span>
</span><span style="background-color: #4f424c">        <span style="color: #5bc4bf">&lt;</span><span style="color: #06b6ef">button</span>
</span><span style="background-color: #4f424c">          <span style="color: #06b6ef">key</span><span style="color: #5bc4bf">=</span><span style="color: #e7e9db">{</span><span style="color: #06b6ef">value</span><span style="color: #e7e9db">}</span>
</span><span style="background-color: #4f424c">          <span style="color: #06b6ef">onClick</span><span style="color: #5bc4bf">=</span><span style="color: #e7e9db">{()</span> <span style="color: #5bc4bf">=&gt;</span> <span style="color: #06b6ef">onSelectSubject</span><span style="color: #e7e9db">(</span><span style="color: #06b6ef">value</span><span style="color: #e7e9db">)}</span>
</span><span style="background-color: #4f424c">          <span style="color: #06b6ef">type</span><span style="color: #5bc4bf">=</span><span style="color: #48b685">&quot;button&quot;</span>
</span><span style="background-color: #4f424c">        <span style="color: #5bc4bf">&gt;</span>
</span><span style="background-color: #4f424c">          <span style="color: #e7e9db">{</span><span style="color: #06b6ef">value</span><span style="color: #e7e9db">}</span>
</span><span style="background-color: #4f424c">        <span style="color: #5bc4bf">&lt;</span><span style="color: #ef6155">/button&gt;</span>
</span><span style="background-color: #4f424c">      <span style="color: #e7e9db">))}</span>
</span><span style="background-color: #4f424c">    <span style="color: #5bc4bf">&lt;</span><span style="color: #ef6155">/div&gt;</span>
</span>
<span style="background-color: #4f424c">    <span style="color: #5bc4bf">&lt;</span><span style="color: #06b6ef">p</span><span style="color: #5bc4bf">&gt;</span><span style="color: #e7e9db">{</span><span style="color: #48b685">`http://hn.algolia.com/api/v1/</span><span style="color: #f99b15">${</span><span style="color: #06b6ef">subject</span><span style="color: #f99b15">}</span><span style="color: #48b685">?query=</span><span style="color: #f99b15">${</span><span style="color: #06b6ef">query</span><span style="color: #f99b15">}</span><span style="color: #48b685">`</span><span style="color: #e7e9db">}</span><span style="color: #5bc4bf">&lt;</span><span style="color: #ef6155">/p&gt;</span>
</span>  <span style="color: #5bc4bf">&lt;</span><span style="color: #ef6155">/div&gt;</span>
<span style="color: #e7e9db">);</span>
</code></pre>
              </div>


              <p>As you can see, the subject can be used to adjust the API URL. Either you search for stories by
                popularity or by date. Next, introduce another observable that can be used to change the subject. The
                observable can be used to wire up the App component with the higher-order component. Otherwise, the
                props passed to the App component wouldn&rsquo;t work.</p>

              <div class="highlight" style="background: #2f1e2e">
                <pre style="line-height: 125%"><code class="language-javascript" data-lang="javascript"><span></span><span style="color: #815ba4">import</span> <span style="color: #06b6ef">React</span> <span style="color: #06b6ef">from</span> <span style="color: #48b685">&#39;react&#39;</span><span style="color: #e7e9db">;</span>
<span style="background-color: #4f424c"><span style="color: #815ba4">import</span> <span style="color: #e7e9db">{</span> <span style="color: #06b6ef">BehaviorSubject</span><span style="color: #e7e9db">,</span> <span style="color: #06b6ef">combineLatest</span> <span style="color: #e7e9db">}</span> <span style="color: #06b6ef">from</span> <span style="color: #48b685">&#39;rxjs/index&#39;</span><span style="color: #e7e9db">;</span>
</span>
<span style="color: #e7e9db">...</span>

<span style="color: #815ba4">const</span> <span style="color: #06b6ef">query$</span> <span style="color: #5bc4bf">=</span> <span style="color: #815ba4">new</span> <span style="color: #06b6ef">BehaviorSubject</span><span style="color: #e7e9db">({</span> <span style="color: #06b6ef">query</span><span style="color: #5bc4bf">:</span> <span style="color: #48b685">&#39;react&#39;</span> <span style="color: #e7e9db">});</span>
<span style="background-color: #4f424c"><span style="color: #815ba4">const</span> <span style="color: #06b6ef">subject$</span> <span style="color: #5bc4bf">=</span> <span style="color: #815ba4">new</span> <span style="color: #06b6ef">BehaviorSubject</span><span style="color: #e7e9db">(</span><span style="color: #06b6ef">SUBJECT</span><span style="color: #e7e9db">.</span><span style="color: #06b6ef">POPULARITY</span><span style="color: #e7e9db">);</span>
</span>
<span style="color: #815ba4">export</span> <span style="color: #815ba4">default</span> <span style="color: #06b6ef">withObservableStream</span><span style="color: #e7e9db">(</span>
<span style="background-color: #4f424c">  <span style="color: #06b6ef">combineLatest</span><span style="color: #e7e9db">(</span><span style="color: #06b6ef">subject$</span><span style="color: #e7e9db">,</span> <span style="color: #06b6ef">query$</span><span style="color: #e7e9db">,</span> <span style="color: #e7e9db">(</span><span style="color: #06b6ef">subject</span><span style="color: #e7e9db">,</span> <span style="color: #06b6ef">query</span><span style="color: #e7e9db">)</span> <span style="color: #5bc4bf">=&gt;</span> <span style="color: #e7e9db">({</span>
</span><span style="background-color: #4f424c">    <span style="color: #06b6ef">subject</span><span style="color: #e7e9db">,</span>
</span><span style="background-color: #4f424c">    <span style="color: #06b6ef">query</span><span style="color: #e7e9db">,</span>
</span><span style="background-color: #4f424c">  <span style="color: #e7e9db">})),</span>
</span>  <span style="color: #e7e9db">{</span>
    <span style="color: #06b6ef">onChangeQuery</span><span style="color: #5bc4bf">:</span> <span style="color: #06b6ef">value</span> <span style="color: #5bc4bf">=&gt;</span> <span style="color: #06b6ef">query$</span><span style="color: #e7e9db">.</span><span style="color: #06b6ef">next</span><span style="color: #e7e9db">({</span> <span style="color: #06b6ef">query</span><span style="color: #5bc4bf">:</span> <span style="color: #06b6ef">value</span> <span style="color: #e7e9db">}),</span>
<span style="background-color: #4f424c">    <span style="color: #06b6ef">onSelectSubject</span><span style="color: #5bc4bf">:</span> <span style="color: #06b6ef">subject</span> <span style="color: #5bc4bf">=&gt;</span> <span style="color: #06b6ef">subject$</span><span style="color: #e7e9db">.</span><span style="color: #06b6ef">next</span><span style="color: #e7e9db">(</span><span style="color: #06b6ef">subject</span><span style="color: #e7e9db">),</span>
</span>  <span style="color: #e7e9db">},</span>
<span style="color: #e7e9db">)(</span><span style="color: #06b6ef">App</span><span style="color: #e7e9db">);</span>
</code></pre>
              </div>


              <p>The <code>onSelectSubject()</code> trigger isn&rsquo;t anything new. By using the buttons, it can be
                used to switch between the two subjects. However, the observable passed to the higher-order component is
                something new. It uses the combineLatest function from RxJS to combine the latest emitted values of two
                (or more) observable streams. Once you subscribe to the observable, when either one of the values
                (query, subject) changes, the subscription will receive both values.</p>

              <p>An addition to the combineLatest function is its last argument. Here you can specify how you want the
                emitted values from the observables to be returned. In our case, we want to have them as an object to
                destructure them as before in the higher-order component to React&rsquo;s local state. Because you have
                a structure now, you can omit the wrapping object of the query observable.</p>

              <div class="highlight" style="background: #2f1e2e">
                <pre style="line-height: 125%"><code class="language-javascript" data-lang="javascript"><span></span><span style="color: #e7e9db">...</span>

<span style="background-color: #4f424c"><span style="color: #815ba4">const</span> <span style="color: #06b6ef">query$</span> <span style="color: #5bc4bf">=</span> <span style="color: #815ba4">new</span> <span style="color: #06b6ef">BehaviorSubject</span><span style="color: #e7e9db">(</span><span style="color: #48b685">&#39;react&#39;</span><span style="color: #e7e9db">);</span>
</span><span style="color: #815ba4">const</span> <span style="color: #06b6ef">subject$</span> <span style="color: #5bc4bf">=</span> <span style="color: #815ba4">new</span> <span style="color: #06b6ef">BehaviorSubject</span><span style="color: #e7e9db">(</span><span style="color: #06b6ef">SUBJECT</span><span style="color: #e7e9db">.</span><span style="color: #06b6ef">POPULARITY</span><span style="color: #e7e9db">);</span>

<span style="color: #815ba4">export</span> <span style="color: #815ba4">default</span> <span style="color: #06b6ef">withObservableStream</span><span style="color: #e7e9db">(</span>
  <span style="color: #06b6ef">combineLatest</span><span style="color: #e7e9db">(</span><span style="color: #06b6ef">subject$</span><span style="color: #e7e9db">,</span> <span style="color: #06b6ef">query$</span><span style="color: #e7e9db">,</span> <span style="color: #e7e9db">(</span><span style="color: #06b6ef">subject</span><span style="color: #e7e9db">,</span> <span style="color: #06b6ef">query</span><span style="color: #e7e9db">)</span> <span style="color: #5bc4bf">=&gt;</span> <span style="color: #e7e9db">({</span>
    <span style="color: #06b6ef">subject</span><span style="color: #e7e9db">,</span>
    <span style="color: #06b6ef">query</span><span style="color: #e7e9db">,</span>
  <span style="color: #e7e9db">})),</span>
  <span style="color: #e7e9db">{</span>
<span style="background-color: #4f424c">    <span style="color: #06b6ef">onChangeQuery</span><span style="color: #5bc4bf">:</span> <span style="color: #06b6ef">value</span> <span style="color: #5bc4bf">=&gt;</span> <span style="color: #06b6ef">query$</span><span style="color: #e7e9db">.</span><span style="color: #06b6ef">next</span><span style="color: #e7e9db">(</span><span style="color: #06b6ef">value</span><span style="color: #e7e9db">),</span>
</span>    <span style="color: #06b6ef">onSelectSubject</span><span style="color: #5bc4bf">:</span> <span style="color: #06b6ef">subject</span> <span style="color: #5bc4bf">=&gt;</span> <span style="color: #06b6ef">subject$</span><span style="color: #e7e9db">.</span><span style="color: #06b6ef">next</span><span style="color: #e7e9db">(</span><span style="color: #06b6ef">subject</span><span style="color: #e7e9db">),</span>
  <span style="color: #e7e9db">},</span>
<span style="color: #e7e9db">)(</span><span style="color: #06b6ef">App</span><span style="color: #e7e9db">);</span>
</code></pre>
              </div>


              <p>The initial <code>{ query: '', subject: 'search' }</code> object and all further objects being emitted
                from the combined observable stream are sufficient for the higher-order component to destructure these
                values into React&rsquo;s local state. Afterward, again a rerender runs as before. When you run your
                application again, you should be able to change both values via the input element and the button
                elements. The changed values are displayed with the API URL. Even though only one of the values changes,
                the other value has still the old value from before, because combineLatest always combines the latest
                emitted values from the observable streams.</p>

              <h2 class="chapter-header" id="react-rxjs-axios">Axios &#43; RxJS in React</h2>

              <p>Now you have constructed your API URL with two values from a combined observable which encapsulates two
                observables. In this last section, let&rsquo;s take this URL to fetch data from this API URL. You may be
                comfortable with <a href="../react-fetching-data/index.html">data fetching in React</a>, but when using
                RxJS observables you have to add yet another observable stream to your composition.</p>

              <p>Before we are implementing the next observable, install <a target="_blank" rel="noopener noreferrer"
                  href="https://github.com/axios/axios">axios</a>, the library we are using to fetch data from within
                the stream, to your project.</p>

              <div class="highlight" style="background: #2f1e2e">
                <pre style="line-height: 125%"><code class="language-javascript" data-lang="javascript"><span></span><span style="color: #06b6ef">npm</span> <span style="color: #06b6ef">install</span> <span style="color: #06b6ef">axios</span> <span style="color: #5bc4bf">--</span><span style="color: #06b6ef">save</span>
</code></pre>
              </div>


              <p>Next, pretend having the array of stories at your disposal in the App component to display them. Again,
                as fallback provide an empty array as default parameter.</p>

              <div class="highlight" style="background: #2f1e2e">
                <pre style="line-height: 125%"><code class="language-javascript" data-lang="javascript"><span></span><span style="color: #e7e9db">...</span>

<span style="color: #815ba4">const</span> <span style="color: #06b6ef">App</span> <span style="color: #5bc4bf">=</span> <span style="color: #e7e9db">({</span>
  <span style="color: #06b6ef">query</span> <span style="color: #5bc4bf">=</span> <span style="color: #48b685">&#39;&#39;</span><span style="color: #e7e9db">,</span>
  <span style="color: #06b6ef">subject</span><span style="color: #e7e9db">,</span>
<span style="background-color: #4f424c">  <span style="color: #06b6ef">stories</span> <span style="color: #5bc4bf">=</span> <span style="color: #e7e9db">[],</span>
</span>  <span style="color: #06b6ef">onChangeQuery</span><span style="color: #e7e9db">,</span>
  <span style="color: #06b6ef">onSelectSubject</span><span style="color: #e7e9db">,</span>
<span style="color: #e7e9db">})</span> <span style="color: #5bc4bf">=&gt;</span> <span style="color: #e7e9db">(</span>
  <span style="color: #5bc4bf">&lt;</span><span style="color: #06b6ef">div</span><span style="color: #5bc4bf">&gt;</span>
    <span style="color: #e7e9db">...</span>

    <span style="color: #5bc4bf">&lt;</span><span style="color: #06b6ef">p</span><span style="color: #5bc4bf">&gt;</span><span style="color: #e7e9db">{</span><span style="color: #48b685">`http://hn.algolia.com/api/v1/</span><span style="color: #f99b15">${</span><span style="color: #06b6ef">subject</span><span style="color: #f99b15">}</span><span style="color: #48b685">?query=</span><span style="color: #f99b15">${</span><span style="color: #06b6ef">query</span><span style="color: #f99b15">}</span><span style="color: #48b685">`</span><span style="color: #e7e9db">}</span><span style="color: #5bc4bf">&lt;</span><span style="color: #ef6155">/p&gt;</span>

<span style="background-color: #4f424c">    <span style="color: #5bc4bf">&lt;</span><span style="color: #06b6ef">ul</span><span style="color: #5bc4bf">&gt;</span>
</span><span style="background-color: #4f424c">      <span style="color: #e7e9db">{</span><span style="color: #06b6ef">stories</span><span style="color: #e7e9db">.</span><span style="color: #06b6ef">map</span><span style="color: #e7e9db">(</span><span style="color: #06b6ef">story</span> <span style="color: #5bc4bf">=&gt;</span> <span style="color: #e7e9db">(</span>
</span><span style="background-color: #4f424c">        <span style="color: #5bc4bf">&lt;</span><span style="color: #06b6ef">li</span> <span style="color: #06b6ef">key</span><span style="color: #5bc4bf">=</span><span style="color: #e7e9db">{</span><span style="color: #06b6ef">story</span><span style="color: #e7e9db">.</span><span style="color: #06b6ef">objectID</span><span style="color: #e7e9db">}</span><span style="color: #5bc4bf">&gt;</span>
</span><span style="background-color: #4f424c">          <span style="color: #5bc4bf">&lt;</span><span style="color: #06b6ef">a</span> <span style="color: #06b6ef">href</span><span style="color: #5bc4bf">=</span><span style="color: #e7e9db">{</span><span style="color: #06b6ef">story</span><span style="color: #e7e9db">.</span><span style="color: #06b6ef">url</span> <span style="color: #5bc4bf">||</span> <span style="color: #06b6ef">story</span><span style="color: #e7e9db">.</span><span style="color: #06b6ef">story_url</span><span style="color: #e7e9db">}</span><span style="color: #5bc4bf">&gt;</span>
</span><span style="background-color: #4f424c">            <span style="color: #e7e9db">{</span><span style="color: #06b6ef">story</span><span style="color: #e7e9db">.</span><span style="color: #06b6ef">title</span> <span style="color: #5bc4bf">||</span> <span style="color: #06b6ef">story</span><span style="color: #e7e9db">.</span><span style="color: #06b6ef">story_title</span><span style="color: #e7e9db">}</span>
</span><span style="background-color: #4f424c">          <span style="color: #5bc4bf">&lt;</span><span style="color: #ef6155">/a&gt;</span>
</span><span style="background-color: #4f424c">        <span style="color: #5bc4bf">&lt;</span><span style="color: #ef6155">/li&gt;</span>
</span><span style="background-color: #4f424c">      <span style="color: #e7e9db">))}</span>
</span><span style="background-color: #4f424c">    <span style="color: #5bc4bf">&lt;</span><span style="color: #ef6155">/ul&gt;</span>
</span>  <span style="color: #5bc4bf">&lt;</span><span style="color: #ef6155">/div&gt;</span>
<span style="color: #e7e9db">);</span>
</code></pre>
              </div>


              <p>Each story in the list of stories has a fallback property due to inconsistencies in the API. Now, the
                crucial implementation of the new observable that fetches the data for React to display it.</p>

              <div class="highlight" style="background: #2f1e2e">
                <pre style="line-height: 125%"><code class="language-javascript" data-lang="javascript"><span></span><span style="color: #815ba4">import</span> <span style="color: #06b6ef">React</span> <span style="color: #06b6ef">from</span> <span style="color: #48b685">&#39;react&#39;</span><span style="color: #e7e9db">;</span>
<span style="background-color: #4f424c"><span style="color: #815ba4">import</span> <span style="color: #06b6ef">axios</span> <span style="color: #06b6ef">from</span> <span style="color: #48b685">&#39;axios&#39;</span><span style="color: #e7e9db">;</span>
</span><span style="color: #815ba4">import</span> <span style="color: #e7e9db">{</span> <span style="color: #06b6ef">BehaviorSubject</span><span style="color: #e7e9db">,</span> <span style="color: #06b6ef">combineLatest</span> <span style="color: #e7e9db">}</span> <span style="color: #06b6ef">from</span> <span style="color: #48b685">&#39;rxjs&#39;</span><span style="color: #e7e9db">;</span>
<span style="background-color: #4f424c"><span style="color: #815ba4">import</span> <span style="color: #e7e9db">{</span> <span style="color: #06b6ef">flatMap</span><span style="color: #e7e9db">,</span> <span style="color: #06b6ef">map</span> <span style="color: #e7e9db">}</span> <span style="color: #06b6ef">from</span> <span style="color: #48b685">&#39;rxjs/operators&#39;</span><span style="color: #e7e9db">;</span>
</span>
<span style="color: #e7e9db">...</span>

<span style="color: #815ba4">const</span> <span style="color: #06b6ef">query$</span> <span style="color: #5bc4bf">=</span> <span style="color: #815ba4">new</span> <span style="color: #06b6ef">BehaviorSubject</span><span style="color: #e7e9db">(</span><span style="color: #48b685">&#39;react&#39;</span><span style="color: #e7e9db">);</span>
<span style="color: #815ba4">const</span> <span style="color: #06b6ef">subject$</span> <span style="color: #5bc4bf">=</span> <span style="color: #815ba4">new</span> <span style="color: #06b6ef">BehaviorSubject</span><span style="color: #e7e9db">(</span><span style="color: #06b6ef">SUBJECT</span><span style="color: #e7e9db">.</span><span style="color: #06b6ef">POPULARITY</span><span style="color: #e7e9db">);</span>

<span style="background-color: #4f424c"><span style="color: #815ba4">const</span> <span style="color: #06b6ef">fetch$</span> <span style="color: #5bc4bf">=</span> <span style="color: #06b6ef">combineLatest</span><span style="color: #e7e9db">(</span><span style="color: #06b6ef">subject$</span><span style="color: #e7e9db">,</span> <span style="color: #06b6ef">query$</span><span style="color: #e7e9db">).</span><span style="color: #06b6ef">pipe</span><span style="color: #e7e9db">(</span>
</span><span style="background-color: #4f424c">  <span style="color: #06b6ef">flatMap</span><span style="color: #e7e9db">(([</span><span style="color: #06b6ef">subject</span><span style="color: #e7e9db">,</span> <span style="color: #06b6ef">query</span><span style="color: #e7e9db">])</span> <span style="color: #5bc4bf">=&gt;</span>
</span><span style="background-color: #4f424c">    <span style="color: #06b6ef">axios</span><span style="color: #e7e9db">(</span><span style="color: #48b685">`http://hn.algolia.com/api/v1/</span><span style="color: #f99b15">${</span><span style="color: #06b6ef">subject</span><span style="color: #f99b15">}</span><span style="color: #48b685">?query=</span><span style="color: #f99b15">${</span><span style="color: #06b6ef">query</span><span style="color: #f99b15">}</span><span style="color: #48b685">`</span><span style="color: #e7e9db">),</span>
</span><span style="background-color: #4f424c">  <span style="color: #e7e9db">),</span>
</span><span style="background-color: #4f424c">  <span style="color: #06b6ef">map</span><span style="color: #e7e9db">(</span><span style="color: #06b6ef">result</span> <span style="color: #5bc4bf">=&gt;</span> <span style="color: #06b6ef">result</span><span style="color: #e7e9db">.</span><span style="color: #06b6ef">data</span><span style="color: #e7e9db">.</span><span style="color: #06b6ef">hits</span><span style="color: #e7e9db">),</span>
</span><span style="background-color: #4f424c"><span style="color: #e7e9db">);</span>
</span>
<span style="color: #e7e9db">...</span>
</code></pre>
              </div>


              <p>The new observable is again a combination of the subject and query observables, because we need both
                values to create the API URL which we need for the actual data request. Within the <code>pipe()</code>
                method of the observable, we can apply so called RxJS operators to do something with the values. In this
                case we map from the two values to a request with axios to the result. We are using a
                <code>flatMap()</code> instead of a <code>map()</code> operator for accessing the result of the resolved
                promise and not the returned promise itself. In the end, when subscribing to this new observable, every
                time a new subject or query from the other observables is provided, a new request is made and the result
                end up in the function of the subscription eventually.</p>

              <p>Now you can provide the new observable to your higher-order component again. By having the last
                argument of the <code>combineLatest()</code> function, you can map it directly to a property name called
                <code>stories</code>. That&rsquo;s how they are already used in the App component after all.</p>

              <div class="highlight" style="background: #2f1e2e">
                <pre style="line-height: 125%"><code class="language-javascript" data-lang="javascript"><span></span><span style="color: #815ba4">export</span> <span style="color: #815ba4">default</span> <span style="color: #06b6ef">withObservableStream</span><span style="color: #e7e9db">(</span>
  <span style="color: #06b6ef">combineLatest</span><span style="color: #e7e9db">(</span>
    <span style="color: #06b6ef">subject$</span><span style="color: #e7e9db">,</span>
    <span style="color: #06b6ef">query$</span><span style="color: #e7e9db">,</span>
<span style="background-color: #4f424c">    <span style="color: #06b6ef">fetch$</span><span style="color: #e7e9db">,</span>
</span><span style="background-color: #4f424c">    <span style="color: #e7e9db">(</span><span style="color: #06b6ef">subject</span><span style="color: #e7e9db">,</span> <span style="color: #06b6ef">query</span><span style="color: #e7e9db">,</span> <span style="color: #06b6ef">stories</span><span style="color: #e7e9db">)</span> <span style="color: #5bc4bf">=&gt;</span> <span style="color: #e7e9db">({</span>
</span>      <span style="color: #06b6ef">subject</span><span style="color: #e7e9db">,</span>
      <span style="color: #06b6ef">query</span><span style="color: #e7e9db">,</span>
<span style="background-color: #4f424c">      <span style="color: #06b6ef">stories</span><span style="color: #e7e9db">,</span>
</span>    <span style="color: #e7e9db">}),</span>
  <span style="color: #e7e9db">),</span>
  <span style="color: #e7e9db">{</span>
    <span style="color: #06b6ef">onChangeQuery</span><span style="color: #5bc4bf">:</span> <span style="color: #06b6ef">value</span> <span style="color: #5bc4bf">=&gt;</span> <span style="color: #06b6ef">query$</span><span style="color: #e7e9db">.</span><span style="color: #06b6ef">next</span><span style="color: #e7e9db">(</span><span style="color: #06b6ef">value</span><span style="color: #e7e9db">),</span>
    <span style="color: #06b6ef">onSelectSubject</span><span style="color: #5bc4bf">:</span> <span style="color: #06b6ef">subject</span> <span style="color: #5bc4bf">=&gt;</span> <span style="color: #06b6ef">subject$</span><span style="color: #e7e9db">.</span><span style="color: #06b6ef">next</span><span style="color: #e7e9db">(</span><span style="color: #06b6ef">subject</span><span style="color: #e7e9db">),</span>
  <span style="color: #e7e9db">},</span>
<span style="color: #e7e9db">)(</span><span style="color: #06b6ef">App</span><span style="color: #e7e9db">);</span>
</code></pre>
              </div>


              <p>There is no trigger, because the observable is activated implicitly by the other two observable
                streams. Every time you change the value in the input element (query) or click a button (subject), the
                fetch observable is triggered again with the latest values from both streams.</p>

              <p>However, we may not want to trigger the fetch observable every time the value in the input element is
                changed. Also we don&rsquo;t want to trigger it if the value is an empty string. That&rsquo;s why we can
                enhance the query observable to debounce (operator) the request (only the last emitted event is taken
                after a threshold of time) and to filter (operator) out every stream event where the query string is
                empty.</p>

              <div class="highlight" style="background: #2f1e2e">
                <pre style="line-height: 125%"><code class="language-javascript" data-lang="javascript"><span></span><span style="color: #815ba4">import</span> <span style="color: #06b6ef">React</span> <span style="color: #06b6ef">from</span> <span style="color: #48b685">&#39;react&#39;</span><span style="color: #e7e9db">;</span>
<span style="color: #815ba4">import</span> <span style="color: #06b6ef">axios</span> <span style="color: #06b6ef">from</span> <span style="color: #48b685">&#39;axios&#39;</span><span style="color: #e7e9db">;</span>
<span style="background-color: #4f424c"><span style="color: #815ba4">import</span> <span style="color: #e7e9db">{</span> <span style="color: #06b6ef">BehaviorSubject</span><span style="color: #e7e9db">,</span> <span style="color: #06b6ef">combineLatest</span><span style="color: #e7e9db">,</span> <span style="color: #06b6ef">timer</span> <span style="color: #e7e9db">}</span> <span style="color: #06b6ef">from</span> <span style="color: #48b685">&#39;rxjs&#39;</span><span style="color: #e7e9db">;</span>
</span><span style="background-color: #4f424c"><span style="color: #815ba4">import</span> <span style="color: #e7e9db">{</span> <span style="color: #06b6ef">flatMap</span><span style="color: #e7e9db">,</span> <span style="color: #06b6ef">map</span><span style="color: #e7e9db">,</span> <span style="color: #06b6ef">debounce</span><span style="color: #e7e9db">,</span> <span style="color: #06b6ef">filter</span> <span style="color: #e7e9db">}</span> <span style="color: #06b6ef">from</span> <span style="color: #48b685">&#39;rxjs/operators&#39;</span><span style="color: #e7e9db">;</span>
</span>
<span style="color: #e7e9db">...</span>

<span style="background-color: #4f424c"><span style="color: #815ba4">const</span> <span style="color: #06b6ef">queryForFetch$</span> <span style="color: #5bc4bf">=</span> <span style="color: #06b6ef">query$</span><span style="color: #e7e9db">.</span><span style="color: #06b6ef">pipe</span><span style="color: #e7e9db">(</span>
</span><span style="background-color: #4f424c">  <span style="color: #06b6ef">debounce</span><span style="color: #e7e9db">(()</span> <span style="color: #5bc4bf">=&gt;</span> <span style="color: #06b6ef">timer</span><span style="color: #e7e9db">(</span><span style="color: #f99b15">1000</span><span style="color: #e7e9db">)),</span>
</span><span style="background-color: #4f424c">  <span style="color: #06b6ef">filter</span><span style="color: #e7e9db">(</span><span style="color: #06b6ef">query</span> <span style="color: #5bc4bf">=&gt;</span> <span style="color: #06b6ef">query</span> <span style="color: #5bc4bf">!==</span> <span style="color: #48b685">&#39;&#39;</span><span style="color: #e7e9db">),</span>
</span><span style="background-color: #4f424c"><span style="color: #e7e9db">);</span>
</span>
<span style="background-color: #4f424c"><span style="color: #815ba4">const</span> <span style="color: #06b6ef">fetch$</span> <span style="color: #5bc4bf">=</span> <span style="color: #06b6ef">combineLatest</span><span style="color: #e7e9db">(</span><span style="color: #06b6ef">subject$</span><span style="color: #e7e9db">,</span> <span style="color: #06b6ef">queryForFetch$</span><span style="color: #e7e9db">).</span><span style="color: #06b6ef">pipe</span><span style="color: #e7e9db">(</span>
</span>  <span style="color: #06b6ef">flatMap</span><span style="color: #e7e9db">(([</span><span style="color: #06b6ef">subject</span><span style="color: #e7e9db">,</span> <span style="color: #06b6ef">query</span><span style="color: #e7e9db">])</span> <span style="color: #5bc4bf">=&gt;</span>
    <span style="color: #06b6ef">axios</span><span style="color: #e7e9db">(</span><span style="color: #48b685">`http://hn.algolia.com/api/v1/</span><span style="color: #f99b15">${</span><span style="color: #06b6ef">subject</span><span style="color: #f99b15">}</span><span style="color: #48b685">?query=</span><span style="color: #f99b15">${</span><span style="color: #06b6ef">query</span><span style="color: #f99b15">}</span><span style="color: #48b685">`</span><span style="color: #e7e9db">),</span>
  <span style="color: #e7e9db">),</span>
  <span style="color: #06b6ef">map</span><span style="color: #e7e9db">(</span><span style="color: #06b6ef">result</span> <span style="color: #5bc4bf">=&gt;</span> <span style="color: #06b6ef">result</span><span style="color: #e7e9db">.</span><span style="color: #06b6ef">data</span><span style="color: #e7e9db">.</span><span style="color: #06b6ef">hits</span><span style="color: #e7e9db">),</span>
<span style="color: #e7e9db">);</span>

<span style="color: #e7e9db">...</span>
</code></pre>
              </div>


              <p>The debounce happens when entering something in the input element now. However, when clicking one of
                the buttons for the subject, the request should be executed immediately.</p>

              <p>Now, the initial values for the query and subject that we are seeing when the App component renders for
                the first time are not the ones from the initial observable values:</p>

              <div class="highlight" style="background: #2f1e2e">
                <pre style="line-height: 125%"><code class="language-javascript" data-lang="javascript"><span></span><span style="color: #815ba4">const</span> <span style="color: #06b6ef">query$</span> <span style="color: #5bc4bf">=</span> <span style="color: #815ba4">new</span> <span style="color: #06b6ef">BehaviorSubject</span><span style="color: #e7e9db">(</span><span style="color: #48b685">&#39;react&#39;</span><span style="color: #e7e9db">);</span>
<span style="color: #815ba4">const</span> <span style="color: #06b6ef">subject$</span> <span style="color: #5bc4bf">=</span> <span style="color: #815ba4">new</span> <span style="color: #06b6ef">BehaviorSubject</span><span style="color: #e7e9db">(</span><span style="color: #06b6ef">SUBJECT</span><span style="color: #e7e9db">.</span><span style="color: #06b6ef">POPULARITY</span><span style="color: #e7e9db">);</span>
</code></pre>
              </div>


              <p>The subject is undefined and the query is an empty string, because that&rsquo;s what we have provided
                as default parameter for the destructuring in the function signature of the App component. All this is
                because we have to wait for the initial request of the fetch observable. Since I am not sure how to
                retrieve the values from the query and subject observables immediately in the higher-order component to
                set them as local state, I would provide an initial state for the higher-order component again.</p>

              <div class="highlight" style="background: #2f1e2e">
                <pre style="line-height: 125%"><code class="language-javascript" data-lang="javascript"><span></span><span style="color: #815ba4">const</span> <span style="color: #06b6ef">withObservableStream</span> <span style="color: #5bc4bf">=</span> <span style="color: #e7e9db">(</span>
  <span style="color: #06b6ef">observable</span><span style="color: #e7e9db">,</span>
  <span style="color: #06b6ef">triggers</span><span style="color: #e7e9db">,</span>
<span style="background-color: #4f424c">  <span style="color: #06b6ef">initialState</span><span style="color: #e7e9db">,</span>
</span><span style="color: #e7e9db">)</span> <span style="color: #5bc4bf">=&gt;</span> <span style="color: #06b6ef">Component</span> <span style="color: #5bc4bf">=&gt;</span> <span style="color: #e7e9db">{</span>
  <span style="color: #815ba4">return</span> <span style="color: #815ba4">class</span> <span style="color: #815ba4">extends</span> <span style="color: #06b6ef">React</span><span style="color: #e7e9db">.</span><span style="color: #06b6ef">Component</span> <span style="color: #e7e9db">{</span>
<span style="background-color: #4f424c">    <span style="color: #06b6ef">constructor</span><span style="color: #e7e9db">(</span><span style="color: #06b6ef">props</span><span style="color: #e7e9db">)</span> <span style="color: #e7e9db">{</span>
</span><span style="background-color: #4f424c">      <span style="color: #815ba4">super</span><span style="color: #e7e9db">(</span><span style="color: #06b6ef">props</span><span style="color: #e7e9db">);</span>
</span><span style="background-color: #4f424c">
</span><span style="background-color: #4f424c">      <span style="color: #815ba4">this</span><span style="color: #e7e9db">.</span><span style="color: #06b6ef">state</span> <span style="color: #5bc4bf">=</span> <span style="color: #e7e9db">{</span>
</span><span style="background-color: #4f424c">        <span style="color: #e7e9db">...</span><span style="color: #06b6ef">initialState</span><span style="color: #e7e9db">,</span>
</span><span style="background-color: #4f424c">      <span style="color: #e7e9db">};</span>
</span><span style="background-color: #4f424c">    <span style="color: #e7e9db">}</span>
</span>
    <span style="color: #06b6ef">componentDidMount</span><span style="color: #e7e9db">()</span> <span style="color: #e7e9db">{</span>
      <span style="color: #815ba4">this</span><span style="color: #e7e9db">.</span><span style="color: #06b6ef">subscription</span> <span style="color: #5bc4bf">=</span> <span style="color: #06b6ef">observable</span><span style="color: #e7e9db">.</span><span style="color: #06b6ef">subscribe</span><span style="color: #e7e9db">(</span><span style="color: #06b6ef">newState</span> <span style="color: #5bc4bf">=&gt;</span>
        <span style="color: #815ba4">this</span><span style="color: #e7e9db">.</span><span style="color: #06b6ef">setState</span><span style="color: #e7e9db">({</span> <span style="color: #e7e9db">...</span><span style="color: #06b6ef">newState</span> <span style="color: #e7e9db">}),</span>
      <span style="color: #e7e9db">);</span>
    <span style="color: #e7e9db">}</span>

    <span style="color: #06b6ef">componentWillUnmount</span><span style="color: #e7e9db">()</span> <span style="color: #e7e9db">{</span>
      <span style="color: #815ba4">this</span><span style="color: #e7e9db">.</span><span style="color: #06b6ef">subscription</span><span style="color: #e7e9db">.</span><span style="color: #06b6ef">unsubscribe</span><span style="color: #e7e9db">();</span>
    <span style="color: #e7e9db">}</span>

    <span style="color: #06b6ef">render</span><span style="color: #e7e9db">()</span> <span style="color: #e7e9db">{</span>
      <span style="color: #815ba4">return</span> <span style="color: #e7e9db">(</span>
        <span style="color: #5bc4bf">&lt;</span><span style="color: #06b6ef">Component</span> <span style="color: #e7e9db">{...</span><span style="color: #815ba4">this</span><span style="color: #e7e9db">.</span><span style="color: #06b6ef">props</span><span style="color: #e7e9db">}</span> <span style="color: #e7e9db">{...</span><span style="color: #815ba4">this</span><span style="color: #e7e9db">.</span><span style="color: #06b6ef">state</span><span style="color: #e7e9db">}</span> <span style="color: #e7e9db">{...</span><span style="color: #06b6ef">triggers</span><span style="color: #e7e9db">}</span> <span style="color: #5bc4bf">/&gt;</span>
      <span style="color: #e7e9db">);</span>
    <span style="color: #e7e9db">}</span>
  <span style="color: #e7e9db">};</span>
<span style="color: #e7e9db">};</span>
</code></pre>
              </div>


              <p>Now you can provide the initial state as third argument to the higher-order component. Then we can
                leave out the default parameters for the App component too.</p>

              <div class="highlight" style="background: #2f1e2e">
                <pre style="line-height: 125%"><code class="language-javascript" data-lang="javascript"><span></span><span style="color: #e7e9db">...</span>

<span style="color: #815ba4">const</span> <span style="color: #06b6ef">App</span> <span style="color: #5bc4bf">=</span> <span style="color: #e7e9db">({</span>
<span style="background-color: #4f424c">  <span style="color: #06b6ef">query</span><span style="color: #e7e9db">,</span>
</span>  <span style="color: #06b6ef">subject</span><span style="color: #e7e9db">,</span>
<span style="background-color: #4f424c">  <span style="color: #06b6ef">stories</span><span style="color: #e7e9db">,</span>
</span>  <span style="color: #06b6ef">onChangeQuery</span><span style="color: #e7e9db">,</span>
  <span style="color: #06b6ef">onSelectSubject</span><span style="color: #e7e9db">,</span>
<span style="color: #e7e9db">})</span> <span style="color: #5bc4bf">=&gt;</span> <span style="color: #e7e9db">(</span>
  <span style="color: #e7e9db">...</span>
<span style="color: #e7e9db">);</span>

<span style="color: #815ba4">export</span> <span style="color: #815ba4">default</span> <span style="color: #06b6ef">withObservableStream</span><span style="color: #e7e9db">(</span>
  <span style="color: #06b6ef">combineLatest</span><span style="color: #e7e9db">(</span>
    <span style="color: #06b6ef">subject$</span><span style="color: #e7e9db">,</span>
    <span style="color: #06b6ef">query$</span><span style="color: #e7e9db">,</span>
    <span style="color: #06b6ef">fetch$</span><span style="color: #e7e9db">,</span>
    <span style="color: #e7e9db">(</span><span style="color: #06b6ef">subject</span><span style="color: #e7e9db">,</span> <span style="color: #06b6ef">query</span><span style="color: #e7e9db">,</span> <span style="color: #06b6ef">stories</span><span style="color: #e7e9db">)</span> <span style="color: #5bc4bf">=&gt;</span> <span style="color: #e7e9db">({</span>
      <span style="color: #06b6ef">subject</span><span style="color: #e7e9db">,</span>
      <span style="color: #06b6ef">query</span><span style="color: #e7e9db">,</span>
      <span style="color: #06b6ef">stories</span><span style="color: #e7e9db">,</span>
    <span style="color: #e7e9db">}),</span>
  <span style="color: #e7e9db">),</span>
  <span style="color: #e7e9db">{</span>
    <span style="color: #06b6ef">onSelectSubject</span><span style="color: #5bc4bf">:</span> <span style="color: #06b6ef">subject</span> <span style="color: #5bc4bf">=&gt;</span> <span style="color: #06b6ef">subject$</span><span style="color: #e7e9db">.</span><span style="color: #06b6ef">next</span><span style="color: #e7e9db">(</span><span style="color: #06b6ef">subject</span><span style="color: #e7e9db">),</span>
    <span style="color: #06b6ef">onChangeQuery</span><span style="color: #5bc4bf">:</span> <span style="color: #06b6ef">value</span> <span style="color: #5bc4bf">=&gt;</span> <span style="color: #06b6ef">query$</span><span style="color: #e7e9db">.</span><span style="color: #06b6ef">next</span><span style="color: #e7e9db">(</span><span style="color: #06b6ef">value</span><span style="color: #e7e9db">),</span>
  <span style="color: #e7e9db">},</span>
<span style="background-color: #4f424c">  <span style="color: #e7e9db">{</span>
</span><span style="background-color: #4f424c">    <span style="color: #06b6ef">query</span><span style="color: #5bc4bf">:</span> <span style="color: #48b685">&#39;react&#39;</span><span style="color: #e7e9db">,</span>
</span><span style="background-color: #4f424c">    <span style="color: #06b6ef">subject</span><span style="color: #5bc4bf">:</span> <span style="color: #06b6ef">SUBJECT</span><span style="color: #e7e9db">.</span><span style="color: #06b6ef">POPULARITY</span><span style="color: #e7e9db">,</span>
</span><span style="background-color: #4f424c">    <span style="color: #06b6ef">stories</span><span style="color: #5bc4bf">:</span> <span style="color: #e7e9db">[],</span>
</span><span style="background-color: #4f424c">  <span style="color: #e7e9db">},</span>
</span><span style="color: #e7e9db">)(</span><span style="color: #06b6ef">App</span><span style="color: #e7e9db">);</span>
</code></pre>
              </div>


              <p>What bothers me now is that the initial state is somehow defined in the declaration of the query$ and
                subject$ observables too. It&rsquo;s error prone, because the observable initialization and the initial
                state for the higher-order component share the same values. I would love to retrieve the initial values
                from the observables in the higher-order component to set the initial state instead. Maybe someone of
                you help me out here and teach me RxJS :)</p>

              <hr class="section-divider">

              <p>The final Rx.js in React example with the higher-order component can be found in this <a
                  target="_blank" rel="noopener noreferrer"
                  href="https://github.com/the-road-to-learn-react/react-rxjs-state-management-hoc-example">GitHub
                  repository</a>. If you have any idea on how to improve it, please let me know. The same applies for
                the written tutorial where I might have misused some RxJS lingua.</p>

              <p>After all, I hope you enjoyed going through this tutorial with me. It should provide you a different
                perspective on working with React. Sometimes you don&rsquo;t need Redux or MobX, but maybe observables
                with RxJS might be the right fit for your application.</p>

              <p>If you like how the higher-order component is used to store state in this tutorial, checkout this <a
                  href="../react-graphql-client-library/index.html">tutorial where we will build a GraphQL client with
                  render prop components</a> together.</p>



              



              <div class="box-inline col-md-12">
                <div class="col-md-12 text-center">
                  <h2 class="newsletter">The Road to learn React</h2>

                  <div class="col-md-4">
                    <img class="img-lazy img-responsive" data-lazy-src="//img/page/cover.png">
                  </div>

                  <p class="lead">
                    Build a Hacker News App along the way. No setup configuration. No tooling. No Redux. Plain React in
                    200+ pages of learning material. Learn React like <strong>50.000+ readers</strong>.
                  </p>
                  <a class="btn btn-template-main" href="https://roadtoreact.com" target="_blank"
                    rel="noopener noreferrer">
                    Get the Book for free <i class="fa fa-chevron-right"></i>
                  </a>

                  <div>
                    <a href="https://amzn.to/2QY2ONp" target="_blank" rel="noopener noreferrer">
                      Get it from Amazon
                    </a>
                  </div>

                </div>
              </div>

            </div>



            


          </article>


        </div>


      </div>

    </div>




    <section class="bar background-image-fixed-2 no-mb color-white text-center">
      <div class="dark-mask"></div>
      <div class="container">
        <div class="row">
          <div class="col-md-12">
            <h3 class="lead">Never miss an article about web development, JavaScript and self-growth.</h3>
            <h2 class="text-uppercase">Take Part</h2>
          </div>

          <div class="col-md-12 text-center">

            <h3 class="lead"><i class="fa fa-check"></i> Join 30.000&#43; Developers</h3>

            <h3 class="lead"><i class="fa fa-check"></i> Learn Web Development with JavaScript</h3>

            <h3 class="lead"><i class="fa fa-check"></i> Tips and Tricks</h3>

            <h3 class="lead"><i class="fa fa-check"></i> Access Tutorials, eBooks and Courses</h3>

            <h3 class="lead"><i class="fa fa-check"></i> Personal Development as a Software Engineer</h3>

          </div>
          <div class="col-md-12">
            <p class="text-center">
              <div id="mc_embed_signup">
                <form action="https://www.getrevue.co/profile/rwieruch/add_subscriber" method="post" id="revue-form"
                  name="revue-form" target="_blank">
                  <div id="mc_embed_signup_scroll">
                    <input class="email" placeholder="email address" type="email" name="member[email]"
                      id="member_email">
                    <div>
                      <button type="submit" value="Subscribe" name="member[subscribe]" id="member_submit"
                        class="btn btn-template-transparent-black btn-lg">
                        Subscribe
                      </button>
                    </div>
                  </div>
                </form>
              </div>

            </p>
          </div>
        </div>
      </div>
    </section>
    <footer id="subfooter">
      <div class="container">

        <div class="col-md-5 col-sm-6">

          <h4>Recent posts</h4>

          <div class="blog-entries">

            <div class="item same-height-row clearfix">
              <div class="article same-height-always">
                <a href="../redux-vs-usereducer/index.html">

                  <img data-lazy-src="//img/posts/redux-vs-usereducer/banner.jpg" data-is-thumb="is-thumb"
                    class="img-lazy img-responsive" alt="React&#39;s useReducer vs Redux">

                </a>
              </div>
              <div class="name same-height-always">
                <h5><a href="../redux-vs-usereducer/index.html">React&#39;s useReducer vs Redux</a></h5>
              </div>
            </div>

            <div class="item same-height-row clearfix">
              <div class="article same-height-always">
                <a href="../publish-npm-package-node/index.html">

                  <img data-lazy-src="//img/posts/publish-npm-package-node/banner.jpg" data-is-thumb="is-thumb"
                    class="img-lazy img-responsive" alt="How to publish a npm package?">

                </a>
              </div>
              <div class="name same-height-always">
                <h5><a href="../publish-npm-package-node/index.html">How to publish a npm package?</a></h5>
              </div>
            </div>

            <div class="item same-height-row clearfix">
              <div class="article same-height-always">
                <a href="../react-scroll-to-item/index.html">

                  <img data-lazy-src="//img/posts/react-scroll-to-item/banner.jpg" data-is-thumb="is-thumb"
                    class="img-lazy img-responsive" alt="How to Scroll to Item in React?">

                </a>
              </div>
              <div class="name same-height-always">
                <h5><a href="../react-scroll-to-item/index.html">How to Scroll to Item in React?</a></h5>
              </div>
            </div>

          </div>

          <hr class="hidden-md hidden-lg hidden-sm">

        </div>



        <div class="col-md-5 col-md-offset-2 col-sm-6">

          <h4>About Me</h4>

          <div class="blog-entries">
            <div class="item same-height-row clearfix">
              <div class="profile same-height-always">
                <img class="img-lazy img-responsive" data-lazy-src="//img/page/profile.jpg" alt="profile">
              </div>
              <div class="name same-height-always">
                <p>
                  Hi, I'm Chris - a Midvale, Utah-based consulting software developer. Find out more <a
                    href="../about/index.html">about me</a>, <a href="../work-with-me/index.html">work with me</a>, or
                  have a look at my social media profiles below.
                </p>
              </div>
            </div>
          </div>

        </div>



      </div>

    </footer>


    <footer id="copyright">
      <div class="container">
        <div class="row">
          <div class="col-md-4">
            <ul class="info list-inline quicklinks pull-left">

              <li> Chris Paul</li>

            </ul>
          </div>
          <div class="col-md-4">
            
          </div>
          <div class="col-md-4">
            <ul class="info list-inline quicklinks pull-right">

              <li><a aria-label="quicklinks" href="../legal/index.html">Legal Notice</a></li>

            </ul>
          </div>
        </div>
      </div>
    </footer>


  </div>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.2/js/bootstrap.min.js"></script>

  <script src="../js/script.js"></script>
</body>

</html>