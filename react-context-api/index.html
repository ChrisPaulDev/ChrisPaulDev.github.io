<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="robots" content="all,follow">
    <meta name="googlebot" content="index,follow,snippet,archive">
    <meta name="viewport" content="width=device-width, initial-scale=1">



    <title>
        React&#39;s Context API explained: Provider and Consumer - CPaul
    </title>

    <meta name="author" content="" />
    <meta name="description"
        content="React&#39;s Context API is a powerful feature for passing props down the component tree without the need to tell components in between about them. React&#39;s context creates a Provider and Consumer component that enable us to use this powerful feature ...">


    <meta name="theme-color" content="#38bb6c" />

    <meta name="generator" content="Hugo 0.41" />
    <link href="https://cdn-images.mailchimp.com/embedcode/horizontal-slim-10_7.css" rel="stylesheet" type="text/css">

    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.5.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.2/css/bootstrap.min.css">
    <link href="../css/bootstrap.default.css" rel="stylesheet" id="theme-stylesheet">
    <link href="../css/customizations.css" rel="stylesheet">

    <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
        <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->

    <link rel="shortcut icon" href="../img/favicon/favicon.ico" type="image/x-icon" />
    <link rel="apple-touch-icon" href="../img/favicon/apple-touch-icon.png" />
    <link rel="manifest" href="../img/favicon/manifest.json">
    <link rel="mask-icon" href="../img/favicon/safari-pinned-tab.svg" color="#5bbad5">

    <link rel="alternate" href="../index.xml" type="application/rss+xml" title="CPaul">

    <meta itemprop="name" content="React&#39;s Context API explained: Provider and Consumer">
    <meta itemprop="description"
        content="React&#39;s Context API is a powerful feature for passing props down the component tree without the need to tell components in between about them. React&#39;s context creates a Provider and Consumer component that enable us to use this powerful feature ...">
    <meta itemprop="image" content="https://chrispaul.dev/img/posts/react-provider-pattern-context/banner_640.jpg">
    <meta itemprop="keywords"
        content="angular,apollo,d3,graphql,growth,javascript,machine-learning,mobx,node,react,reason,redux,tooling,vue,web-development,angular,apollo,d3,graphql,growth,javascript,machine-learning,mobx,node,react,reason,redux,tooling,web-development," />


    <meta itemprop="wordCount" content="1548">

    <meta name="keywords" content="react context API, react context API provider, react context API consumer">

    <meta property="og:title" content="React&#39;s Context API explained: Provider and Consumer - CPaul">


    <meta property="og:description"
        content="React&#39;s Context API is a powerful feature for passing props down the component tree without the need to tell components in between about them. React&#39;s context creates a Provider and Consumer component that enable us to use this powerful feature ..." />


    <meta property="og:type" content="website" />
    <meta property="og:url" content="https://chrispaul.dev/react-context-api/" />
    <meta property="og:image" content="https://chrispaul.dev/img/posts/react-provider-pattern-context/banner_640.jpg" />



    <meta name="news_keywords" content="react context API,react context API provider,react context API consumer" />



    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:image:src"
        content="https://chrispaul.dev/img/posts/react-provider-pattern-context/banner_640.jpg" />
    <meta name="twitter:title" content="React&#39;s Context API explained: Provider and Consumer" />
    <meta name="twitter:description"
        content="React&#39;s Context API is a powerful feature for passing props down the component tree without the need to tell components in between about them. React&#39;s context creates a Provider and Consumer component that enable us to use this powerful feature ..." />
    <meta name="twitter:site" content="@ChrisPaulDev" />
    



</head>


<body>

    <div id="all">

        <header>

            <div class="navbar-affixed-top" data-spy="affix" data-offset-top="200">

                <div class="navbar navbar-default yamm" role="navigation" id="navbar">

                    <div class="container">
                        <div class="navbar-header">
                            

                            <div class="navbar-buttons">
                                <button type="button" class="navbar-toggle btn-template-main" data-toggle="collapse"
                                    data-target="#navigation">
                                    <span class="sr-only">Toggle navigation</span>
                                    <i class="fa fa-align-justify"></i>
                                </button>
                            </div>
                        </div>


                        <div class="navbar-collapse collapse" id="navigation">
                            <ul class="nav navbar-nav navbar-right">

                                <li class="dropdown">

                                    <a href="../index.html">Blog</a>

                                </li>

                                <li class="dropdown">

                                    <a href="../work-with-me/index.html">Work with me</a>

                                </li>

                                <li class="dropdown">

                                    <a href="../about/index.html">About</a>

                                </li>

                                <li class="dropdown">

                                    <a style="color: #38bb6c" href="https://roadtoreact.com/">Books &amp; Courses</a>

                                </li>

                            </ul>
                        </div>


                        <div class="collapse clearfix" id="search">

                            <form class="navbar-form" role="search">
                                <div class="input-group">
                                    <input type="text" class="form-control" placeholder="Search">
                                    <span class="input-group-btn">

                                        <button type="submit" class="btn btn-template-main"><i
                                                class="fa fa-search"></i></button>

                                    </span>
                                </div>
                            </form>

                        </div>


                    </div>
                </div>


            </div>
        </header>

        

        



        <div class="hidden-xs">


            
        </div>

        <div id="content">
            <div class="container">

                <div class="row">

                    <article class="col-md-8 col-md-offset-2" id="blog-post" itemprop="blogPosts" itemscope
                        itemtype="http://schema.org/BlogPosting">

                        <div id="post-content" itemprop="articleBody">

                            <header>
                                <h1 itemprop="name headline">React&#39;s Context API explained: Provider and Consumer
                                </h1>
                            </header>

                            

                            <p class="text-muted text-uppercase mb-small text-center">
                                <span itemprop="author publisher">

                                </span>


                                <time datetime="2018-03-31" itemprop="datePublished">
                                    March 31, 2018
                                </time>


                            </p>

                            <div>


                            </div>

                            <div class="post-image-primary">
                                <div class="pinterest-pinner-wrapper" itemscope
                                    itemtype="http://schema.org/ImageObject">
                                    <div class="pinterest-pinner">
                                        <a data-pin-do="buttonPin" data-pin-save="true" data-pin-tall="true"
                                            href="https://www.pinterest.com/pin/create/button/?url=https%3a%2f%2fchrispaul.dev%2freact-context-api%2f&amp;media=https://chrispaul.dev/img%2fposts%2freact-provider-pattern-context%2fbanner.jpg&amp;description=">
                                        </a>
                                    </div>

                                    <img class="img-lazy img-responsive"
                                        data-lazy-src="/src="/img/posts/react-provider-pattern-context/banner.jpg"
                                        data-is-src-set="is-src-set" alt="react context API" itemprop="image" />
                                </div>
                            </div>


                            <p>Note: If you are using a React version 16.3 or above, this article is relevant to you. It
                                explains how to use React&rsquo;s context API version for React 16.3 and above for
                                passing props down the component tree. Only components who are interested can consume
                                these props. If you are using a React version prior 16.3, head over to <a
                                    href="../react-provider-pattern-context/index.html">this article to implement your
                                    own provider pattern in React with its old context API</a>.</p>

                            <p>React&rsquo;s context API is a powerful feature. You will not often see it when using
                                plain React, but might consider using it when your React application grows in size and
                                depth from a component perspective. Basically, React&rsquo;s context API takes the
                                clutter away of passing mandatory props, that are needed by every component, down your
                                whole component tree. Most often components in between are not interested in these
                                props.</p>

                            <p>But you will not only see it when using plain React. Often React&rsquo;s Context API can
                                be seen in action when using an external state management library such as Redux or MobX.
                                There, you often end up with a <code>Provider</code> component at the top of your
                                component hierarchy that bridges your state layer (Redux/MobX/&hellip;) to your view
                                layer (React). The <code>Provider</code> component receives the state as props and
                                afterward, each child component has implicitly access to the managed state by Redux and
                                MobX.</p>

                            <div class="highlight" style="background: #2f1e2e">
                                <pre style="line-height: 125%"><code class="language-javascript" data-lang="javascript"><span></span><span style="color: #815ba4">import</span> <span style="color: #06b6ef">React</span> <span style="color: #06b6ef">from</span> <span style="color: #48b685">&#39;react&#39;</span><span style="color: #e7e9db">;</span>
<span style="color: #815ba4">import</span> <span style="color: #06b6ef">ReactDOM</span> <span style="color: #06b6ef">from</span> <span style="color: #48b685">&#39;react-dom&#39;</span><span style="color: #e7e9db">;</span>
<span style="color: #815ba4">import</span> <span style="color: #e7e9db">{</span> <span style="color: #06b6ef">Provider</span> <span style="color: #e7e9db">}</span> <span style="color: #06b6ef">from</span> <span style="color: #48b685">&#39;react-redux&#39;</span><span style="color: #e7e9db">;</span>
<span style="color: #815ba4">import</span> <span style="color: #06b6ef">App</span> <span style="color: #06b6ef">from</span> <span style="color: #48b685">&#39;./components/App&#39;</span><span style="color: #e7e9db">;</span>
<span style="color: #815ba4">import</span> <span style="color: #06b6ef">store</span> <span style="color: #06b6ef">from</span> <span style="color: #48b685">&#39;./store&#39;</span><span style="color: #e7e9db">;</span>

<span style="color: #06b6ef">ReactDOM</span><span style="color: #e7e9db">.</span><span style="color: #06b6ef">render</span><span style="color: #e7e9db">(</span>
  <span style="color: #5bc4bf">&lt;</span><span style="color: #06b6ef">Provider</span> <span style="color: #06b6ef">store</span><span style="color: #5bc4bf">=</span><span style="color: #e7e9db">{</span><span style="color: #06b6ef">store</span><span style="color: #e7e9db">}</span><span style="color: #5bc4bf">&gt;</span>
    <span style="color: #5bc4bf">&lt;</span><span style="color: #06b6ef">App</span> <span style="color: #5bc4bf">/&gt;</span>
  <span style="color: #5bc4bf">&lt;</span><span style="color: #ef6155">/Provider&gt;,</span>
  <span style="color: #e7e9db">document.</span><span style="color: #06b6ef">getElementById</span><span style="color: #e7e9db">(</span><span style="color: #48b685">&#39;root&#39;</span><span style="color: #e7e9db">)</span>
<span style="color: #e7e9db">);</span>
</code></pre>
                            </div>


                            <p><strong>But how does the Context API in React work?</strong> This article gives you a
                                walkthrough of using React&rsquo;s Context API for a simple use case in your
                                application. Afterward, you should be able to use it on your own. In addition, you will
                                understand how the <code>Provider</code> component, which is used for instance to bridge
                                a state management library to React, works by using the context API.</p>

                            <h2 class="chapter-header" id="react-context-api">React&#39;s Context API</h2>

                            <p>Do you remember the last time when you had to pass props several components down your
                                component tree? In plain React, you can be confronted often with this issue which is
                                called &ldquo;prop drilling&rdquo;.</p>

                            <div class="highlight" style="background: #2f1e2e">
                                <pre style="line-height: 125%"><code class="language-javascript" data-lang="javascript"><span></span>          <span style="color: #5bc4bf">+----------------+</span>
          <span style="color: #5bc4bf">|</span>                <span style="color: #5bc4bf">|</span>
          <span style="color: #5bc4bf">|</span>                <span style="color: #5bc4bf">|</span>
          <span style="color: #5bc4bf">|</span>       <span style="color: #06b6ef">A</span>        <span style="color: #5bc4bf">|</span>
          <span style="color: #5bc4bf">|</span>                <span style="color: #5bc4bf">|</span>
          <span style="color: #5bc4bf">|</span>                <span style="color: #5bc4bf">|</span>
          <span style="color: #5bc4bf">+--------+-------+</span>
                   <span style="color: #5bc4bf">|</span>
         <span style="color: #5bc4bf">+---------+-----------+</span>
         <span style="color: #5bc4bf">|</span>                     <span style="color: #5bc4bf">|</span>
         <span style="color: #5bc4bf">|</span>                     <span style="color: #5bc4bf">|</span>
<span style="color: #5bc4bf">+--------+-------+</span>    <span style="color: #5bc4bf">+--------+-------+</span>
<span style="color: #5bc4bf">|</span>                <span style="color: #5bc4bf">|</span>    <span style="color: #5bc4bf">|</span>                <span style="color: #5bc4bf">|</span>
<span style="color: #5bc4bf">|</span>                <span style="color: #5bc4bf">|</span>    <span style="color: #5bc4bf">|</span>        <span style="color: #5bc4bf">+</span>       <span style="color: #5bc4bf">|</span>
<span style="color: #5bc4bf">|</span>       <span style="color: #06b6ef">B</span>        <span style="color: #5bc4bf">|</span>    <span style="color: #5bc4bf">|</span>        <span style="color: #5bc4bf">|</span><span style="color: #06b6ef">Props</span>  <span style="color: #5bc4bf">|</span>
<span style="color: #5bc4bf">|</span>                <span style="color: #5bc4bf">|</span>    <span style="color: #5bc4bf">|</span>        <span style="color: #06b6ef">v</span>       <span style="color: #5bc4bf">|</span>
<span style="color: #5bc4bf">|</span>                <span style="color: #5bc4bf">|</span>    <span style="color: #5bc4bf">|</span>                <span style="color: #5bc4bf">|</span>
<span style="color: #5bc4bf">+----------------+</span>    <span style="color: #5bc4bf">+--------+-------+</span>
                               <span style="color: #5bc4bf">|</span>
                      <span style="color: #5bc4bf">+--------+-------+</span>
                      <span style="color: #5bc4bf">|</span>                <span style="color: #5bc4bf">|</span>
                      <span style="color: #5bc4bf">|</span>        <span style="color: #5bc4bf">+</span>       <span style="color: #5bc4bf">|</span>
                      <span style="color: #5bc4bf">|</span>        <span style="color: #5bc4bf">|</span><span style="color: #06b6ef">Props</span>  <span style="color: #5bc4bf">|</span>
                      <span style="color: #5bc4bf">|</span>        <span style="color: #06b6ef">v</span>       <span style="color: #5bc4bf">|</span>
                      <span style="color: #5bc4bf">|</span>                <span style="color: #5bc4bf">|</span>
                      <span style="color: #5bc4bf">+--------+-------+</span>
                               <span style="color: #5bc4bf">|</span>
                      <span style="color: #5bc4bf">+--------+-------+</span>
                      <span style="color: #5bc4bf">|</span>                <span style="color: #5bc4bf">|</span>
                      <span style="color: #5bc4bf">|</span>                <span style="color: #5bc4bf">|</span>
                      <span style="color: #5bc4bf">|</span>        <span style="color: #06b6ef">C</span>       <span style="color: #5bc4bf">|</span>
                      <span style="color: #5bc4bf">|</span>                <span style="color: #5bc4bf">|</span>
                      <span style="color: #5bc4bf">|</span>                <span style="color: #5bc4bf">|</span>
                      <span style="color: #5bc4bf">+----------------+</span>
</code></pre>
                            </div>


                            <p>It can happen that a couple of these props are even mandatory for each child component.
                                Thus you would need to pass the props down to each child component. In return, this
                                would clutter every component in between which has to pass down these props without
                                using them oneself.</p>

                            <p><strong>When these props become mandatory, React&rsquo;s context API gives you a way out
                                    of this mess</strong>. Instead of passing down the props explicitly down to each
                                component, you can hide props, that are necessary for each component, in React&rsquo;s
                                context and pass them implicitly down to each component. React&rsquo;s context traverses
                                invisible down the component tree. If a component needs access to the context, it can
                                consume it on demand.</p>

                            <div class="highlight" style="background: #2f1e2e">
                                <pre style="line-height: 125%"><code class="language-javascript" data-lang="javascript"><span></span>          <span style="color: #5bc4bf">+----------------+</span>
          <span style="color: #5bc4bf">|</span>                <span style="color: #5bc4bf">|</span>
          <span style="color: #5bc4bf">|</span>       <span style="color: #06b6ef">A</span>        <span style="color: #5bc4bf">|</span>
          <span style="color: #5bc4bf">|</span>                <span style="color: #5bc4bf">|</span>
          <span style="color: #5bc4bf">|</span>     <span style="color: #06b6ef">Provide</span>    <span style="color: #5bc4bf">|</span>
          <span style="color: #5bc4bf">|</span>     <span style="color: #06b6ef">Context</span>    <span style="color: #5bc4bf">|</span>
          <span style="color: #5bc4bf">+--------+-------+</span>
                   <span style="color: #5bc4bf">|</span>
         <span style="color: #5bc4bf">+---------+-----------+</span>
         <span style="color: #5bc4bf">|</span>                     <span style="color: #5bc4bf">|</span>
         <span style="color: #5bc4bf">|</span>                     <span style="color: #5bc4bf">|</span>
<span style="color: #5bc4bf">+--------+-------+</span>    <span style="color: #5bc4bf">+--------+-------+</span>
<span style="color: #5bc4bf">|</span>                <span style="color: #5bc4bf">|</span>    <span style="color: #5bc4bf">|</span>                <span style="color: #5bc4bf">|</span>
<span style="color: #5bc4bf">|</span>                <span style="color: #5bc4bf">|</span>    <span style="color: #5bc4bf">|</span>                <span style="color: #5bc4bf">|</span>
<span style="color: #5bc4bf">|</span>       <span style="color: #06b6ef">B</span>        <span style="color: #5bc4bf">|</span>    <span style="color: #5bc4bf">|</span>        <span style="color: #06b6ef">D</span>       <span style="color: #5bc4bf">|</span>
<span style="color: #5bc4bf">|</span>                <span style="color: #5bc4bf">|</span>    <span style="color: #5bc4bf">|</span>                <span style="color: #5bc4bf">|</span>
<span style="color: #5bc4bf">|</span>                <span style="color: #5bc4bf">|</span>    <span style="color: #5bc4bf">|</span>                <span style="color: #5bc4bf">|</span>
<span style="color: #5bc4bf">+----------------+</span>    <span style="color: #5bc4bf">+--------+-------+</span>
                               <span style="color: #5bc4bf">|</span>
                      <span style="color: #5bc4bf">+--------+-------+</span>
                      <span style="color: #5bc4bf">|</span>                <span style="color: #5bc4bf">|</span>
                      <span style="color: #5bc4bf">|</span>                <span style="color: #5bc4bf">|</span>
                      <span style="color: #5bc4bf">|</span>        <span style="color: #06b6ef">E</span>       <span style="color: #5bc4bf">|</span>
                      <span style="color: #5bc4bf">|</span>                <span style="color: #5bc4bf">|</span>
                      <span style="color: #5bc4bf">|</span>                <span style="color: #5bc4bf">|</span>
                      <span style="color: #5bc4bf">+--------+-------+</span>
                               <span style="color: #5bc4bf">|</span>
                      <span style="color: #5bc4bf">+--------+-------+</span>
                      <span style="color: #5bc4bf">|</span>                <span style="color: #5bc4bf">|</span>
                      <span style="color: #5bc4bf">|</span>        <span style="color: #06b6ef">C</span>       <span style="color: #5bc4bf">|</span>
                      <span style="color: #5bc4bf">|</span>                <span style="color: #5bc4bf">|</span>
                      <span style="color: #5bc4bf">|</span>     <span style="color: #06b6ef">Consume</span>    <span style="color: #5bc4bf">|</span>
                      <span style="color: #5bc4bf">|</span>     <span style="color: #06b6ef">Context</span>    <span style="color: #5bc4bf">|</span>
                      <span style="color: #5bc4bf">+----------------+</span>
</code></pre>
                            </div>


                            <p><strong>What are use cases for this approach?</strong> For instance, your application
                                could have a configurable colored theme. Each component should be colored depending on
                                the configuration. The configuration is fetched once from your server, but afterward you
                                want to make this implicitly accessible for all components. Therefore you could use
                                React&rsquo;s context API to give every component access to the colored theme. You would
                                have to provide the colored theme at the top of your component hierarchy and consume it
                                in every component which is located somewhere below it.</p>

                            <p><strong>How is React&rsquo;s context provided and consumed?</strong> Imagine you would
                                have component A as root component that provides the context and component C as one of
                                the child components that consumes the context. Somewhere in between is component D
                                though. The application has a colored theme that can be used to style your components.
                                Your goal is it to make the colored theme available for every component via the React
                                context. In this case, component C should be able to consume it.</p>

                            <p>First, you have to create the context which gives you access to a Provider and Consumer
                                component. When you create the context with React by using <code>createContext()</code>,
                                you can pass it an initial value. In this case, the initial value is can be null,
                                because you may have no access to the value when it has to be fetched from a server
                                first. Otherwise, you can already give it here a proper initial value.</p>

                            <div class="highlight" style="background: #2f1e2e">
                                <pre style="line-height: 125%"><code class="language-javascript" data-lang="javascript"><span></span><span style="color: #815ba4">import</span> <span style="color: #06b6ef">React</span> <span style="color: #06b6ef">from</span> <span style="color: #48b685">&#39;react&#39;</span><span style="color: #e7e9db">;</span>

<span style="color: #815ba4">const</span> <span style="color: #06b6ef">ThemeContext</span> <span style="color: #5bc4bf">=</span> <span style="color: #06b6ef">React</span><span style="color: #e7e9db">.</span><span style="color: #06b6ef">createContext</span><span style="color: #e7e9db">(</span><span style="color: #815ba4">null</span><span style="color: #e7e9db">);</span>

<span style="color: #815ba4">export</span> <span style="color: #815ba4">default</span> <span style="color: #06b6ef">ThemeContext</span><span style="color: #e7e9db">;</span>
</code></pre>
                            </div>


                            <p>Second, the A component would have to provide the context. It is a hardcoded
                                <code>value</code> in this case, but it can be anything from component state or
                                component props. The context value may change as well when the local state is changed
                                due to a <code>setState()</code> call. Component A displays only component D yet makes
                                the context available to all its other components below it. One of the leaf components
                                will be component C that consumes the context eventually.</p>

                            <div class="highlight" style="background: #2f1e2e">
                                <pre style="line-height: 125%"><code class="language-javascript" data-lang="javascript"><span></span><span style="color: #815ba4">import</span> <span style="color: #06b6ef">ThemeContext</span> <span style="color: #06b6ef">from</span> <span style="color: #48b685">&#39;./ThemeContext&#39;</span><span style="color: #e7e9db">;</span>

<span style="color: #815ba4">class</span> <span style="color: #06b6ef">A</span> <span style="color: #815ba4">extends</span> <span style="color: #06b6ef">React</span><span style="color: #e7e9db">.</span><span style="color: #06b6ef">Component</span> <span style="color: #e7e9db">{</span>
  <span style="color: #06b6ef">render</span><span style="color: #e7e9db">()</span> <span style="color: #e7e9db">{</span>
    <span style="color: #815ba4">return</span> <span style="color: #e7e9db">(</span>
      <span style="color: #5bc4bf">&lt;</span><span style="color: #06b6ef">ThemeContext</span><span style="color: #e7e9db">.</span><span style="color: #06b6ef">Provider</span> <span style="color: #06b6ef">value</span><span style="color: #5bc4bf">=</span><span style="color: #e7e9db">{</span><span style="color: #48b685">&#39;green&#39;</span><span style="color: #e7e9db">}</span><span style="color: #5bc4bf">&gt;</span>
        <span style="color: #5bc4bf">&lt;</span><span style="color: #06b6ef">D</span> <span style="color: #5bc4bf">/&gt;</span>
      <span style="color: #5bc4bf">&lt;</span><span style="color: #ef6155">/ThemeContext.Provider&gt;</span>
    <span style="color: #e7e9db">);</span>
  <span style="color: #e7e9db">}</span>
<span style="color: #e7e9db">}</span>
</code></pre>
                            </div>


                            <p>Third, in your component C, below component D, you could consume the context object.
                                Notice that component A doesn’t need to pass down anything via component D in the props
                                so that it reaches component C.</p>

                            <div class="highlight" style="background: #2f1e2e">
                                <pre style="line-height: 125%"><code class="language-javascript" data-lang="javascript"><span></span><span style="color: #815ba4">import</span> <span style="color: #06b6ef">ThemeContext</span> <span style="color: #06b6ef">from</span> <span style="color: #48b685">&#39;./ThemeContext&#39;</span><span style="color: #e7e9db">;</span>

<span style="color: #815ba4">class</span> <span style="color: #06b6ef">C</span> <span style="color: #815ba4">extends</span> <span style="color: #06b6ef">React</span><span style="color: #e7e9db">.</span><span style="color: #06b6ef">Component</span> <span style="color: #e7e9db">{</span>
  <span style="color: #06b6ef">render</span><span style="color: #e7e9db">()</span> <span style="color: #e7e9db">{</span>
    <span style="color: #815ba4">return</span> <span style="color: #e7e9db">(</span>
      <span style="color: #5bc4bf">&lt;</span><span style="color: #06b6ef">ThemeContext</span><span style="color: #e7e9db">.</span><span style="color: #06b6ef">Consumer</span><span style="color: #5bc4bf">&gt;</span>
        <span style="color: #e7e9db">{</span><span style="color: #06b6ef">coloredTheme</span> <span style="color: #5bc4bf">=&gt;</span>
          <span style="color: #5bc4bf">&lt;</span><span style="color: #06b6ef">div</span> <span style="color: #06b6ef">style</span><span style="color: #5bc4bf">=</span><span style="color: #e7e9db">{{</span> <span style="color: #06b6ef">color</span><span style="color: #5bc4bf">:</span> <span style="color: #06b6ef">coloredTheme</span> <span style="color: #e7e9db">}}</span><span style="color: #5bc4bf">&gt;</span>
            <span style="color: #06b6ef">Hello</span> <span style="color: #06b6ef">World</span>
          <span style="color: #5bc4bf">&lt;</span><span style="color: #ef6155">/div&gt;</span>
        <span style="color: #e7e9db">}</span>
      <span style="color: #5bc4bf">&lt;</span><span style="color: #ef6155">/ThemeContext.Consumer&gt;</span>
    <span style="color: #e7e9db">);</span>
  <span style="color: #e7e9db">}</span>
<span style="color: #e7e9db">}</span>
</code></pre>
                            </div>


                            <p>The component can derive its style by consuming the context. The Consumer component makes
                                the passed context available by using a <a
                                    href="../react-render-props-pattern/index.html">render prop</a>. As you can imagine,
                                following this way every component that needs to be styled according to the colored
                                theme could get the necessary information from React&rsquo;s context API by using the
                                Consumer component now. You only have to use the Provider component which passes the
                                value once somewhere above them. You can read more about <a
                                    href="https://reactjs.org/docs/context.html">React&rsquo;s context in the official
                                    documentation</a>.</p>

                            <h2 class="chapter-header" id="react-context-api-higher-order-component">React&#39;s Context
                                API in Higher Order Components</h2>

                            <p>As mentioned, React&rsquo;s context API is often used when using state management
                                libraries such as Redux or MobX. You will provide the state, that is managed by one of
                                these libraries, via a Provider component. This Provider component uses React&rsquo;s
                                context API to pass down the state implicitly. The store(s) can be consumed then by the
                                components below.</p>

                            <p><strong>But wait! I guess, you never had to use the Consumer component from React&rsquo;s
                                    context API to consume the store somewhere below.</strong> There is often a <a
                                    href="../gentle-introduction-higher-order-components/index.html">higher-order
                                    component</a> involved, coming from the bridging state management library (such as
                                <code>connect</code> in react-redux), that provides you the state in your component.
                                Thus you don&rsquo;t need to worry about the Consumer component.</p>

                            <p>What would such higher-order component, which provides React&rsquo;s context as props,
                                look like? Basically the higher-order component would look like the following:</p>

                            <div class="highlight" style="background: #2f1e2e">
                                <pre style="line-height: 125%"><code class="language-javascript" data-lang="javascript"><span></span><span style="color: #815ba4">const</span> <span style="color: #06b6ef">getTheme</span> <span style="color: #5bc4bf">=</span> <span style="color: #06b6ef">Component</span> <span style="color: #5bc4bf">=&gt;</span>
  <span style="color: #815ba4">class</span> <span style="color: #06b6ef">GetTheme</span> <span style="color: #815ba4">extends</span> <span style="color: #06b6ef">React</span><span style="color: #e7e9db">.</span><span style="color: #06b6ef">Component</span> <span style="color: #e7e9db">{</span>
    <span style="color: #06b6ef">render</span><span style="color: #e7e9db">()</span> <span style="color: #e7e9db">{</span>
      <span style="color: #815ba4">return</span> <span style="color: #e7e9db">(</span>
        <span style="color: #5bc4bf">&lt;</span><span style="color: #06b6ef">ThemeContext</span><span style="color: #e7e9db">.</span><span style="color: #06b6ef">Consumer</span><span style="color: #5bc4bf">&gt;</span>
          <span style="color: #e7e9db">{</span><span style="color: #06b6ef">coloredTheme</span> <span style="color: #5bc4bf">=&gt;</span>
            <span style="color: #5bc4bf">&lt;</span><span style="color: #06b6ef">Component</span>
              <span style="color: #e7e9db">{</span> <span style="color: #e7e9db">...</span><span style="color: #815ba4">this</span><span style="color: #e7e9db">.</span><span style="color: #06b6ef">props</span> <span style="color: #e7e9db">}</span>
              <span style="color: #06b6ef">coloredTheme</span><span style="color: #5bc4bf">=</span><span style="color: #e7e9db">{</span><span style="color: #06b6ef">coloredTheme</span><span style="color: #e7e9db">}</span>
            <span style="color: #5bc4bf">/&gt;</span>
          <span style="color: #e7e9db">}</span>
        <span style="color: #5bc4bf">&lt;</span><span style="color: #ef6155">/ThemeContext.Consumer&gt;</span>
      <span style="color: #e7e9db">);</span>
    <span style="color: #e7e9db">}</span>
  <span style="color: #e7e9db">}</span>

<span style="color: #776e71">// usage</span>

<span style="color: #815ba4">class</span> <span style="color: #06b6ef">App</span> <span style="color: #815ba4">extends</span> <span style="color: #06b6ef">React</span><span style="color: #e7e9db">.</span><span style="color: #06b6ef">Component</span> <span style="color: #e7e9db">{</span>
  <span style="color: #06b6ef">render</span><span style="color: #e7e9db">()</span> <span style="color: #e7e9db">{</span>
    <span style="color: #815ba4">return</span> <span style="color: #e7e9db">(</span>
      <span style="color: #5bc4bf">&lt;</span><span style="color: #06b6ef">div</span><span style="color: #5bc4bf">&gt;</span>
        <span style="color: #5bc4bf">&lt;</span><span style="color: #06b6ef">HeadlineWithTheme</span><span style="color: #5bc4bf">&gt;</span><span style="color: #06b6ef">Hello</span> <span style="color: #06b6ef">React</span><span style="color: #5bc4bf">&lt;</span><span style="color: #ef6155">/HeadlineWithTheme&gt;</span>
      <span style="color: #5bc4bf">&lt;</span><span style="color: #ef6155">/div&gt;</span>
    <span style="color: #e7e9db">);</span>
  <span style="color: #e7e9db">}</span>
<span style="color: #e7e9db">}</span>

<span style="color: #e7e9db">...</span>

<span style="color: #815ba4">function</span> <span style="color: #06b6ef">Headline</span><span style="color: #e7e9db">(</span><span style="color: #06b6ef">props</span><span style="color: #e7e9db">)</span> <span style="color: #e7e9db">{</span>
  <span style="color: #815ba4">return</span> <span style="color: #e7e9db">(</span>
    <span style="color: #5bc4bf">&lt;</span><span style="color: #06b6ef">h1</span> <span style="color: #06b6ef">style</span><span style="color: #5bc4bf">=</span><span style="color: #e7e9db">{{</span> <span style="color: #06b6ef">color</span><span style="color: #5bc4bf">:</span> <span style="color: #06b6ef">props</span><span style="color: #e7e9db">.</span><span style="color: #06b6ef">coloredTheme</span> <span style="color: #e7e9db">}}</span><span style="color: #5bc4bf">&gt;</span>
      <span style="color: #e7e9db">{</span><span style="color: #06b6ef">props</span><span style="color: #e7e9db">.</span><span style="color: #06b6ef">children</span><span style="color: #e7e9db">}</span>
    <span style="color: #5bc4bf">&lt;</span><span style="color: #ef6155">/h1&gt;</span>
  <span style="color: #e7e9db">);</span>
<span style="color: #e7e9db">}</span>

<span style="color: #815ba4">const</span> <span style="color: #06b6ef">HeadlineWithTheme</span> <span style="color: #5bc4bf">=</span> <span style="color: #06b6ef">getTheme</span><span style="color: #e7e9db">(</span><span style="color: #06b6ef">Headline</span><span style="color: #e7e9db">);</span>
</code></pre>
                            </div>


                            <p>Now you could wrap any component into the <code>getTheme</code> higher-order component
                                and expose it to the colored theme property that comes with the props. If you are
                                curious about using React&rsquo;s context API for authentication, checkout <a
                                    href="../complete-firebase-authentication-react-tutorial/index.html">the complete
                                    Firebase in React Authentication tutorial</a>.</p>

                            <hr class="section-divider">

                            <p>A running application which uses React&rsquo;s context API can be found in this <a
                                    target="_blank" rel="noopener noreferrer"
                                    href="https://github.com/ChrisPaulDev/react-context-api">GitHub repository</a>. In the
                                end, React&rsquo;s context API is used in complex applications to glue the state layer
                                to your view layer. When using <a href="../redux-mobx-confusion/index.html">Redux or
                                    MobX</a>, the state (store) is passed to your <code>Provider</code> component. The
                                <code>Provider</code> component wraps the store into React&rsquo;s context and thus all
                                child components can access the store. For instance, in Redux a higher-order component
                                called <code>connect</code> is used to access the store again. That&rsquo;s why there is
                                no such thing as &ldquo;React Context API vs Redux&rdquo; or &ldquo;Does React Context
                                API replace Redux&rdquo;. The Context API is only a way to pass props down the component
                                tree. It can be used as state layer, but shouldn&rsquo;t be abused as it. If you are
                                looking for a more sophisticated state management library, checkout Redux or MobX.</p>

                            <div class="read-before">
                                Read more: <a href="../react-graphql-client-library/index.html" itemprop="url">How to
                                    build a GraphQL client library for React</a>
                            </div>



                            



                            <div class="box-inline col-md-12">
                                <div class="col-md-12 text-center">
                                    <h2 class="newsletter">The Road to learn React</h2>

                                    <div class="col-md-4">
                                        <img class="img-lazy img-responsive" data-lazy-src="//img/page/cover.png">
                                    </div>

                                    <p class="lead">
                                        Build a Hacker News App along the way. No setup configuration. No tooling. No
                                        Redux. Plain React in 200+ pages of learning material. Learn React like
                                        <strong>50.000+ readers</strong>.
                                    </p>
                                    <a class="btn btn-template-main" href="https://roadtoreact.com" target="_blank"
                                        rel="noopener noreferrer">
                                        Get the Book for free <i class="fa fa-chevron-right"></i>
                                    </a>

                                    <div>
                                        <a href="https://amzn.to/2QY2ONp" target="_blank" rel="noopener noreferrer">
                                            Get it from Amazon
                                        </a>
                                    </div>

                                </div>
                            </div>

                        </div>



                        


                    </article>


                </div>


            </div>

        </div>




        <section class="bar background-image-fixed-2 no-mb color-white text-center">
            <div class="dark-mask"></div>
            <div class="container">
                <div class="row">
                    <div class="col-md-12">
                        <h3 class="lead">Never miss an article about web development, JavaScript and self-growth.</h3>
                        <h2 class="text-uppercase">Take Part</h2>
                    </div>

                    <div class="col-md-12 text-center">

                        <h3 class="lead"><i class="fa fa-check"></i> Join 30.000&#43; Developers</h3>

                        <h3 class="lead"><i class="fa fa-check"></i> Learn Web Development with JavaScript</h3>

                        <h3 class="lead"><i class="fa fa-check"></i> Tips and Tricks</h3>

                        <h3 class="lead"><i class="fa fa-check"></i> Access Tutorials, eBooks and Courses</h3>

                        <h3 class="lead"><i class="fa fa-check"></i> Personal Development as a Software Engineer</h3>

                    </div>
                    
                </div>
            </div>
        </section>
        <footer id="subfooter">
            <div class="container">

                <div class="col-md-5 col-sm-6">

                    <h4>Recent posts</h4>

                    <div class="blog-entries">

                        <div class="item same-height-row clearfix">
                            <div class="article same-height-always">
                                <a href="../redux-vs-usereducer/index.html">

                                    <img data-lazy-src="//img/posts/redux-vs-usereducer/banner.jpg"
                                        data-is-thumb="is-thumb" class="img-lazy img-responsive"
                                        alt="React&#39;s useReducer vs Redux">

                                </a>
                            </div>
                            <div class="name same-height-always">
                                <h5><a href="../redux-vs-usereducer/index.html">React&#39;s useReducer vs Redux</a></h5>
                            </div>
                        </div>

                        <div class="item same-height-row clearfix">
                            <div class="article same-height-always">
                                <a href="../publish-npm-package-node/index.html">

                                    <img data-lazy-src="//img/posts/publish-npm-package-node/banner.jpg"
                                        data-is-thumb="is-thumb" class="img-lazy img-responsive"
                                        alt="How to publish a npm package?">

                                </a>
                            </div>
                            <div class="name same-height-always">
                                <h5><a href="../publish-npm-package-node/index.html">How to publish a npm package?</a>
                                </h5>
                            </div>
                        </div>

                        <div class="item same-height-row clearfix">
                            <div class="article same-height-always">
                                <a href="../react-scroll-to-item/index.html">

                                    <img data-lazy-src="//img/posts/react-scroll-to-item/banner.jpg"
                                        data-is-thumb="is-thumb" class="img-lazy img-responsive"
                                        alt="How to Scroll to Item in React?">

                                </a>
                            </div>
                            <div class="name same-height-always">
                                <h5><a href="../react-scroll-to-item/index.html">How to Scroll to Item in React?</a>
                                </h5>
                            </div>
                        </div>

                    </div>

                    <hr class="hidden-md hidden-lg hidden-sm">

                </div>



                <div class="col-md-5 col-md-offset-2 col-sm-6">

                    <h4>About Me</h4>

                    <div class="blog-entries">
                        <div class="item same-height-row clearfix">
                            <div class="profile same-height-always">
                                <img class="img-lazy img-responsive" data-lazy-src="//img/page/profile.jpg"
                                    alt="profile">
                            </div>
                            <div class="name same-height-always">
                                <p>
                                    Hi, I'm Chris - a Midvale, Utah-based consulting software developer. Find out more
                                    <a href="../about/index.html">about me</a>, <a
                                        href="../work-with-me/index.html">work with me</a>, or have a look at my social
                                    media profiles below.
                                </p>
                            </div>
                        </div>
                    </div>

                </div>



            </div>

        </footer>


        <footer id="copyright">
            <div class="container">
                <div class="row">
                    <div class="col-md-4">
                        <ul class="info list-inline quicklinks pull-left">

                            <li>© Chris Paul</li>

                        </ul>
                    </div>
                    
                    <div class="col-md-4">
                        <ul class="info list-inline quicklinks pull-right">

                            <li><a aria-label="quicklinks" href="../legal/index.html">Legal Notice</a></li>

                        </ul>
                    </div>
                </div>
            </div>
        </footer>


    </div>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.2/js/bootstrap.min.js"></script>

    <script src="../js/script.js"></script>
</body>

</html>